{"title": "A Diagram Is Worth A Dozen Images", "tag": ["cs.CV", "cs.AI"], "abstract": "Diagrams are common tools for representing complex concepts, relationships and events, often when it would be difficult to portray the same information with natural images. Understanding natural images has been extensively studied in computer vision, while diagram understanding has received little attention. In this paper, we study the problem of diagram interpretation and reasoning, the challenging task of identifying the structure of a diagram and the semantics of its constituents and their relationships. We introduce Diagram Parse Graphs (DPG) as our representation to model the structure of diagrams. We define syntactic parsing of diagrams as learning to infer DPGs for diagrams and study semantic interpretation and reasoning of diagrams in the context of diagram question answering. We devise an LSTM-based method for syntactic parsing of diagrams and introduce a DPG-based attention model for diagram question answering. We compile a new dataset of diagrams with exhaustive annotations of constituents and relationships for over 5,000 diagrams and 15,000 questions and answers. Our results show the significance of our models for syntactic parsing and question answering in diagrams using DPGs.", "text": "abstract. diagrams common tools representing complex concepts relationships events often would diﬃcult portray information natural images. understanding natural images extensively studied computer vision diagram understanding received little attention. paper study problem diagram interpretation reasoning challenging task identifying structure diagram semantics constituents relationships. introduce diagram parse graphs representation model structure diagrams. deﬁne syntactic parsing diagrams learning infer dpgs diagrams study semantic interpretation reasoning diagrams context diagram question answering. devise lstm-based method syntactic parsing diagrams introduce dpg-based attention model diagram question answering. compile dataset diagrams exhaustive annotations constituents relationships diagrams questions answers. results show signiﬁcance models syntactic parsing question answering diagrams using dpgs. thousands years visual illustrations used depict lives people animals environment major events. archaeological discoveries unearthed cave paintings showing lucid representations hunting religious rites communal dancing burial etc. ancient rock carvings maps modern info-graphics visualizations diagrams science textbooks visual illustrations large diverse ever growing constituting considerable portion visual data. illustrations often represent complex concepts events systems otherwise diﬃcult portray sentences text natural image understanding natural images major area research computer vision understanding rich visual illustrations received scant attention. computer vision perspective illustrations inherently diﬀerent natural images oﬀer unique interesting problems. since purposefully designed express information typically suppress irrelevant signals background clutter intricate textures shading fig. space visual illustrations rich diverse. palette shows inter class variability diagrams diagram dataset aid. bottom palette shows intra-class variation water cycles category. nuances. often makes detection recognition individual elements inherently diﬀerent counterparts objects natural images. hand visual illustrations depict complex phenomena higher-order relations objects well beyond single natural image convey. instance might struggle natural images compactly represent phenomena seen grade school science diagrams shown figure paper deﬁne problem understanding visual illustrations identifying visual entities relations well establishing semantic correspondences real-world concepts. characteristics visual illustrations also aﬀord opportunities deeper reasoning provided natural images. consider food figure represents several relations foxes eating rabbits rabbits eating plants. reason higher order relations entities eﬀect population foxes caused reduction population plants. similarly consider myriad phenomena displayed single water cycle diagram figure phenomena shown occur surface earth others occur either surface. main components cycle labeled water displayed using arrows. reasoning objects interactions rich scenes provides many exciting research challenges. paper address problem diagram interpretation reasoning context science diagrams deﬁned tasks syntactic parsing semantic interpretation. syntactic parsing involves detecting recognizing constituents syntactic relationships diagram. analogous problem scene parsing natural images. wide variety diagrams well large intra-class variation make step challenging. semantic interpretation task mapping constituents relationships semantic entities events challenging task given inherent ambiguities mapping functions. example arrow food chain diagram typically corresponds concept consumption arrows water cycles typically refer phase changes arrows planetary diagram often refers rotatory motion. introduce representation encode diagram constituents relationships graph called diagram parse graphs problem syntactic parsing diagrams formulated task learning infer best explains diagram. introduce deep sequential diagram parser network learns sequentially relationships constituents form dpgs using long short term memory networks. problem semantically interpreting diagram reasoning constituents relationships studied context diagram question answering. present neural network architecture learns attend useful relations given question diagram. compile dataset named diagrams grade school science diagrams rich annotations ground truth syntactic parses corresponding multiple choice questions. experimental results show proposed dsdp-net syntactic parsing outperforms several baseline methods. moreover show proposed approach incorporating diagram relations question answering outperforms standard visual question answering methods. contributions include present tasks diagram interpretation reasoning introduce representation encode diagram parses introduce model learns diagrams dpgs introduce model diagram question answering learns attention questions dpgs present dataset evaluate models baselines. understanding diagrams. problem understanding diagrams received fair amount interest however many techniques either used hand written rules assumed visual primitives manually identiﬁed worked speciﬁc diagrams. recently futrelle proposed methods analyze graphs ﬁnite automata sketches worked vector representations diagrams. recently proposed method understanding diagrams geometry questions identiﬁes visual elements diagram maximizing agreement textual visual data. contrast past approaches propose uniﬁed approach diagram understanding builds upon representational language graphic representations proposed engelhardt works diverse diagrams. domain abstract images also received considerable amount interest past couple years abstract images signiﬁcantly reduce noise introduced level computer vision modules thus bringing semantics scene focus still depict real world scenes hence diﬀer signiﬁcantly diagrams depict complex phenomena. parsing natural images. several approaches building bottom-up topparsers proposed syntactically parse natural images videos. include bayesian approaches and-or graph structures stochastic context free grammars regular grammars geometric phrases margin structured prediction framework based recursive neural networks inspired methods adopt graph based representation diagrams. answering questions. relevant tasks machine comprehension answer questions reading passage system similar memory networks attention mechanism focus best supporting fact among possible candidates. candidates trivially obtained given passage obtain diagram parse graph. recently answering questions real images drawn much attention vision communities however diagram images vastly diﬀerent real images corresponding questions. hence systems built real images cannot directly used diagram tasks. much existing literature graphic representations covers speciﬁc types graphics speciﬁc aspects syntactic structure. recently engelhardt proposed coherent framework integrating various structural semiotic classiﬁcation aspects applied complete spectrum graphic representations including diagrams maps complex computer visualizations. brieﬂy describe proposed principles below apply space diagrams refer reader thorough understanding. diagram composite graphic consists graphic space constituents relationships involving constituents. graphic space metric space distorted metric space non-meaningful space constituents diagram include illustrative elements textual elements diagrammatic elements informative elements decorative elements. relationships include spatial relations constituents positions diagram space intra-object label text naming entire object. intra-object region label text referring region within object. intra-object linkage text referring region within object arrow. inter-object linkage objects related another arrow. arrow head assignment arrow head associated arrow tail. arrow descriptor text describing process arrow refers image title title entire image. image section title text serves title section image. image caption text adds information entire image serve image title. image misc decorative elements diagram. representation diagram parse graph. build upon engelhardt’s representation introducing concept diagrammatic objects diagrams deﬁned primary entities described diagram. examples objects include animals food human body anatomy diagram water cycle relationships within between objects include intra-object inter-object constituent-space relationships. represent diagram diagram parse graph nodes correspond constituents edges correspond relationships constituents. model four types constituents blobs text boxes arrows arrow heads. also model classes relationships summarized table figure shows examples dpgs diﬀerent constituents relationships dataset. syntactic diagram parsing problem learning diagrams dpgs. speciﬁcally goal detect recognize constituents syntactic relationships diagram best explains diagram. order form candidate dpgs ﬁrst generate proposals nodes using object detectors built constituent category also generate proposals edges combining proposal nodes using relationship classiﬁers given sets noisy node edge proposals method selects subset form exploiting several local global cues. fig. overview dsdp-net solution inferring dpgs diagrams. lstm based network exploits global constrains overlap coverage layout select subset relations amongst thousands candidates construct dpg. constituent relationship proposal generators result several hundred constituent proposals several thousand relationship proposals diagram. large sets proposals relatively smaller number true nodes edges truth rich nature structure dpgs makes search space possible parse graphs incredibly large. observe forming amounts choosing subset relationships among proposals. therefore propose sequential formulation task adds relationship constituents every step exploiting local cues well long range global contextual cues using memory-based model. model. introduce deep sequential diagram parser figure depicts unrolled illustration dsdp-net. central stacked long short term memory recurrent neural network fully connected layers used prior lstm. proposal relationships sequentially network every time step network predicts relationship added not. relationship large candidate represented feature vector capturing spatial layout constituents image space detection scores training. lstm networks typically require large amounts training data. provide training data dsdp-net form sequences relationships sampling training diagrams. training diagram sample large number relationship sequences using sampling without replacement thousands relationship candidates utilizing relationship proposal scores sampling weights. sampled sequence sequentially label relationship every time step comparing generated groundtruth dpg. dsdp-net able model dependencies nodes edges selected diﬀerent time steps sequence. chooses relationships large proposal scores also learns reject relationships lead high level spatial redundancy incorrect structure layout. also works well variable number candidate relationships diagram. finally learns stop adding relationships entire image space covered nodes edges already present graph. dpgs represent syntactic relationships constituents diagram. they however encode semantics constituents relationships. example corresponding figure indicates tree mule deer related inter-object linkage relationship represent arrow corresponds consuming. constituents relationships similar visual representation diﬀerent semantic meanings diﬀerent diagrams. example inter-object linkage relationship interpreted consuming food webs evaporation water cycles. moreover diagrams typically depict complex phenomena reasoning phenomena goes beyond tasks matching interpretation. example answering question figure requires parsing relationship trees deer grounding linkage consuming reasoning eﬀects consumption populations ﬂora fauna. order evaluate task reasoning semantics diagrams study semantic interpretation diagrams context diagram question answering. inspired evaluation paradigms school education systems recent progress visual textual question answering. studying semantic interpretation diagrams context question answering also provides well-deﬁned problem deﬁnition evaluation criteria metrics. relationship labeled positive label sampled sequence labeled negative label another sequence presence overlapping constituents relationships candidate sets. fig. overview dqa-net solution diagram question answering. network encodes facts learns attend relevant fact given question answers question. design neural network architecture answer diagrammatic questions. main intuition network encode facts learn attention model closest fact question. example figure shows facts dqa-net selected answer questions. formally dqa-net consists following components question embedding module takes question choice build statement uses lstm learn d-dimensional embedding statement diagram embedding module takes extracts relations uses lstm learn d-dimensional embedding diagram relations attention module learns attend relevant diagram relations selecting best statement choice high similarity relevant diagram relations. every statement model computes probability distribution statement choices feeding best similarity scores statements diagram relations softmax layer. build dataset evaluate task diagram interpretation. comprised diagrams representing topics grade school science annotated constituent segmentations relationships relationships diagram canvas. total contains annotations constituents relationships. dataset also comprised images collected scraping google image search seed terms derived chapter titles grade science textbooks. image annotated using amazon mechanical turk annotating image rich annotations ours rather complicated task must broken several phases maximize level agreement obtained turkers. also phases need carried sequentially avoid conﬂicts annotations. phases involve annotating four low-level constituents categorizing text boxes four categories relationship canvas relationship diagrammatic element intra-object relationship inter-object relationship categorizing arrows three categories intra-object relationship inter-object relationship neither labelling intraobject linkage inter-object linkage relationships. step display arrows turkers choose origin destination constituents diagram labelling intra-object label intra-object region label arrow descriptor relationships. purpose display text boxes turkers choose constituents related ﬁnally multiple choice questions answers representing grade school science questions obtained image using amt. figure shows rich annotations obtained image dataset along associated multiple choice questions. describe methods used generate constituent relationship proposals show evaluations methods generating proposals versus several baselines. also evaluate introduced model dsdp-net syntactic parsing diagrams forms dpgs compare several baseline approaches. finally evaluate proposed diagram question answering model dqa-net compare standard visual question answering approaches. section also describe hyperparameters features baselines. diagram canvas diagram consists multiple constituents overlaid onto canvas uniformly colored textured blended image. classify every pixel diagram canvas constituent. build nonparametric kernel density estimates texture entropy spaces generate features random forest classiﬁer trees obtain average precision detecting blobs blobs exhibit large degree variability size shape appearance diagrams making challenging model. combine segments multiple levels segmentation hierarchy obtained using multiscale combinatorial grouping segments produced using canvas probability produce candidates. features capturing location size central moments etc. provided classiﬁer trees. baselines. evaluated several object proposal approaches including edge boxes objectness selective search since designed work natural images provide good results diagrams. compare approach edge boxes suitable methods since uses edge maps propose objects relies less colors gradients observed natural images. results. approach produces signiﬁcantly higher compared detecting arrow tails arrow tails challenging model since easily confused line segments present diagram always corresponding arrow head provide context. generate proposal segments using three pronged approach. obtain candidates using boundary detection method hough transforms detecting parallel curved edge segments canny edge map; recursively merge proximal segments exhibit residual degree polynomial. train binary class convolutional neural network resembling architecture vgg- model fourth channel appended standard three channel input. fourth channel speciﬁes location arrow tail candidate smoothed gaussian kernel width ﬁlters except ones fourth input channel layer initialized publicly available vgg- model. remaining ﬁlters initialized random values drawn gaussian distribution. batch size starting learning rate results. figure shows curve model tend miss arrows overlap signiﬁcantly three arrows image well thick arrows confused blobs. detecting arrow heads arrow head proposals obtained scanning window approach scales orientations. pixels window undergo followed tree classiﬁer. train binary class resembling standard architecture alexnet initialize using publicly available model. batch size starting results. figure shows curves model well ﬁrst pass model. miss arrow heads extremely small present poor quality images. detecting text optical character recognition service provided microsoft’s project oxford localize recognize text diagrams. improve performance single characters train single character localizer using architecture alexnet three training resources charsk character dataset obtained vector pdfs scientiﬁc publications synthetic renderings single characters. localized bounding boxes recognized using tesseract results. using tesseract end-to-end provides poor text localization results diagrams precision recall. method improves precision recall false negatives comprise vertically oriented curved text cursive fonts unmerged multi-line blocks. generating relationship proposals relationship categories presented table categories relate constituents another. compute features capturing spatial layout constituents respect another well diagram space combine detection probabilities provided level constituent models. trees classiﬁer trained category. test time generate proposal relationships large combinatorial candidate constituents using proximity based pruning scheme classiﬁed model. categories relate single constituent entire image. model category using parametric kernel density estimate space. test time every candidate text detection passed models obtain relationship probability. results. figure shows curves relationships built using classiﬁer. several relationships owing inherent ambiguity classifying relationships using local spatial decisions. model dsdp-net introduced dsdp-net consists layer stacked lstm layer hidden state dimensionality lstm preceded fully connected layers output dimensionality rectiﬁed linear unit activation function each. lstm proceeded fully connected layer softmax activation function. network trained using rmsprop optimize cross-entropy loss function. initial learning rate candidate relationship represented dimensional feature vector includes features constituent relationship features describing relationship sample relationship sequences training image generate roughly training samples. test time relationships presented network sorted order based detection scores. baselines greedy search ﬁrst baseline greedy algorithm whereby nodes edges greedily added using proposal scores. uses exit model stopping condition. exit model trained score dpgs based distance desired completed dpg. train exit model features capturing quality coverage redundancy structure nodes edges dpgs tree models. search second baseline search starts empty sequentially adds nodes edges according cost. improve upon greedy algorithm training model utilizes local contextual cues rank available constituents relationships. cost function potential step linear combination model’s score akin yolo generated meaningful results dataset. evaluation. evaluate methods compute jaccard index sets nodes edges proposed ground truth dpg. refer metric jaccard index graphs score. jaccard index measures similarity ﬁnite sample sets deﬁned size intersection divided size union sample sets. results. table shows mean scores computed test method. dsdp-net method outperforms greedy search search considerable margin. shows importance sequential formulation lstms adding relationships form dpgs. figure shows qualitative examples inferred dpgs using dsdp-net. model dqa-net dqa-net uses glove model pre-trained tokens word vector. lstm units single layer hidden units forget bias place single -by- layer word vectors lstm units. lstm variables sentence embeddings shared. loss function optimized stochastic gradient descent batch size fig. sample question answering results using dqa-net. second column shows answer chosen third column shows nodes edges dqa-net decided attend baselines. best model baseline consists lstm module statement embedding module diagram image embedding. lstm module setup dqa-net translating question-answer pairs statements obtaining vector statement. module obtain vector last layer pre-trained vgg- model diagram image. image vector transformed vector single -by- layer. compute product statement embedding transformed image vector followed softmax layer. cross entropy loss optimization techniques dqa-net. results. table reports accuracy diﬀerent methods question answering test set. dqa-net method outperforms baseline trained dataset well aid. shows eﬀectively encodes high-level semantics diagrams required answer questions. figure shows examples correctly answered questions dqa-net. introduced task diagram interpretation reasoning. proposed dsdp-net parse diagrams reason global context diagram using proposed representation called dpg. dpgs encode useful syntactic information depicted diagram. moreover introduced dqa-net learns answer diagram questions attending diagram relations encoded dpgs. task diagram question answering well-deﬁned task evaluate capabilities diﬀerent systems semantic interpretation diagrams reasoning. experimental results show improvements dsdp-net parsing diagrams compared strong baselines. moreover show dqa-net outperforms standard techniques diagram question answering. diagram interpretation reasoning raises research questions goes beyond natural image understanding. release baselines facilitate research diagram understanding reasoning. future work involves incorporating diagrammatic commonsense knowledge dqa.", "year": 2016}
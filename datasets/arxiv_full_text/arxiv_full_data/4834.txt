{"title": "Online Learning of Commission Avoidant Portfolio Ensembles", "tag": ["cs.AI", "cs.LG"], "abstract": "We present a novel online ensemble learning strategy for portfolio selection. The new strategy controls and exploits any set of commission-oblivious portfolio selection algorithms. The strategy handles transaction costs using a novel commission avoidance mechanism. We prove a logarithmic regret bound for our strategy with respect to optimal mixtures of the base algorithms. Numerical examples validate the viability of our method and show significant improvement over the state-of-the-art.", "text": "present novel online ensemble learning strategy portfolio selection. strategy controls exploits commission-oblivious portfolio selection algorithms. strategy handles transaction costs using novel commission avoidance mechanism. prove logarithmic regret bound strategy respect optimal mixtures base algorithms. numerical examples validate viability method show signiﬁcant improvement state-of-the-art. online portfolio selection challenging sequential investment problem introduced cover problem naturally generalizes prediction logarithmic loss become central online learning research. major hurdles abstracted away basic formulation transaction costs defy many portfolio selection algorithms. number transaction cost aware strategies regret bounds developed main techniques used increase robustness transaction costs either reduce costs diluting number transaction rounds semiconstant-rebalanced portfolios rebalance subset possible trading days penalizing costly rebalancing actions within online optimization framework known commissionaware online strategies designed track best constant rebalanced portfolio empirical studies show crp-centric strategies extremely resilient high commission rates. however numerous empirical studies also indicate that without commissions crp-driven strategies fact best hindsight itself achieve inferior performance compared strategies driven used mean-reversion algorithms complicate matters mean-reverting algorithms achieve phenomenal results without commissions known extremely sensitive commissions methods crash datasets even moderate commissions. main question tackle paper devise principled method utilize better algorithms resilient transaction costs? answer question afﬁrmative propose ensemble strategy controlling exploiting commission-oblivious portfolio selection base algorithms. ensemble strategy designed track best convex combination base algorithms systematically avoiding costly rebalancing activity. presenting strategy proving logarithmic regret bound respect best hindsight convex combination present extensive empirical study strategy implemented ensemble known online portfolio selection algorithms olmar anticor strategy effectively handle range rates exhibits graceful performance degradation commission cost rates. moreover consistently outperforms known commission-aware strategies. learning algorithm together analysis extend composite objective mirror descent framework duchi handle expconcave loss function allows algorithm achieve regret respect best possible choice hindsight. comid applied well would result signiﬁcantly worse given market stocks consider online game algorithm adversary played rounds market represented market vector relative prices relative price stock deﬁned ratio closing price relative closing price denote sequence market vectors entire game. algorithm’s portfolio wealth allocation stock require sequence portfolios played algorithm entire game. portfolio sequence equal ﬁxed portfolio called constant rebalanced portfolio start trading algorithm chooses portfolio thus assuming setting above common consider logarithmic cumulative wealth expressed summation logarithmic daily wealth increases logbt xt). online approach portfolio learning goal online generate sequence {bt} portfolios compete best-in-hindsight ﬁxed portfolio denoted letting round loss portfolio logbt xt)) deﬁne regret sequence {bt} vanilla portfolio selection model presented abstracts away transaction costs. costs account several components including commissions slippage market impact costs. commissions service charges required brokerage ﬁrms exchanges handling purchase sale securities. slippage price difference time decide buy/sell security time transaction actually executed exchange. market impact costs price differentials incurred supply demand dynamically respond orders opposed modeling brokerage commissions follow ﬁxed known schedule precise modeling slippage market impact costs extremely challenging. ﬁrst approximation however common apply linear transaction cost model transaction incurs cost proportional size therefore focus following simple multiplicative cost model commonly used online portfolio selection literature sec. ..). model commissions speciﬁed ﬁxed parameter called commission rate buying worth stock player must commission thus transaction cost incurred player rebalances b||. present transaction cost model asportfolio portfolio sume commissions self-reﬁnanced player pays immediately study portfolio optimization transaction costs within mainstream ﬁnance huge topic beyond scope. studies typically traditional operations research ﬂavor stochastic optimization carried speciﬁc distributions; brief survey refer related works emerging online learning line research initiated cover blum kalai perhaps ﬁrst studied commissions online portfolio selection showed elegant regret analysis cover ordentlich’s universal portfolios algorithm cover ordentlich pays proportional commissions. idea semiconstant-rebalanced portfolios dilute number rebalancing trading days commission reduction ﬁrst mentioned brieﬂy helmbold studied in-depth kozat singer; kozat singer utilized context tree weighting lossless compression algorithm willems track best days rebalancing. resulting portfolio algorithm shown achieve sub-linear regret respect best days rebalancing provided recently huang introduced algorithms sup-q improve scrp algorithms sense follow best best horizon instead following speciﬁc scrp does. algorithms shown huang outperform scrp many random projections nyse-o datasets stocks. different approach presented al.; called online lazy updates proposes deal transaction costs taking next round portfolio simplex vector minimizing motivation present work empirical observation performance methods consistently satisfying across common benchmark datasets. algorithms handle commissions well starting point setting without commissions hopeless. stems fact designed track performance empirically inferior comparison class namely class strategies. shown number empirical studies even best computed hindsight strong contender relative known algorithms several mean-reversion methods attempt exploit recurring statistical inefﬁciencies market behavior family pattern matching algorithms proposed algoet cover gy¨orﬁ al.; gy¨orﬁ table also validates disadvantage best another critical point regard inferiority crp-driven methods commission-less setting even sophisticated universal algorithms appear better simple uniform constant rebalancing portfolio observation ﬁrst made borodin also observe similar phenomenon setting commissions ucrp achieves comparable performance known commission aware methods paper introduce novel mechanism commission avoidance combined within learning algorithm ensembles applied portfolio selection algorithms. track best combination algorithms rather best crp. regret analysis proposed method yields optimal logarithmic regret. report extensive empirical study proposed procedure simulate performance benchmark datasets used area. results indicate ensemble algorithm outperforms existing methods range commission costs. note also succeeded extend methods kozat singer; kozat singer al.; track algorithms even devised appropriate regret bounds empirical results extensions marginally better original abandoned them. commission avoidant portfolio ensemble procedure constructed sub-algorithms whose portfolios round namely n-ary column vecrepresented matrix specifying round allocation prescribed sub-algorithm stocks. inside simplex conv convex hull portfolios inside conv current portfolio depicted inside conv course reside outside pentagon. convex hull corresponding next round portfolios conv also depicted convex combination sub-algorithms naturally yield stock portfolio residing inside conv rebalancing next portfolio incur commissions proportional least distance conv. idea introduce another synthetic expert whose recommended round portfolio precisely ˆbt. extend next round pentagon union conv avoidance area called diagram deﬁne therefore union simply conv deﬁnes feasible choices ensemble algorithm next round. revised choice allows cape maintain current holding avoid paying commissions. cape computes round next allocation vector algorithms artiﬁcial expert last coordinate weight artiﬁcial expert. denote projection ﬁrst coordinates. allocation optimized using regularized online newton step following regularizer given optimal static allocation achieves best possible return regularized avoidance rebalancing. explain pseudo-code cape listed algorithm require following deﬁnitions notation. rn×n positive-deﬁnite matrix. bregman divergence generated round cape ﬁrst plays according already computed allocation vector response adversary selects market vector determines following loss deﬁned cape receives rn×d revised portfolios sub-algorithms. next cape constructs portfolio matrix augmented artiﬁcial expert used optimize next round prediction vector using regularized online newton step. order exploit exp-concavity loss function cape utilizes curvature loss function embedded matrix uses bregman divergence corresponding optimize prediction based second order information regret analysis positive real. convex function α-exp-concave convex domain function e-αf concave. well known class exp-concave functions strictly contains class strongly-convex functions. example loss function typically used logb expconcave strongly convex. consider standard online convex optimization game round online player selects point convex convex payoff function revealed player suffers loss adversarial setting selected worst possible impossible guarantee absolute online performance. instead objective online player achieve convex function necessarily smooth. proved revised method guarantees regret relative best choice hindsight whenever convex. moreover sharper regret bound shown strongly convex extension called composite objective mirror descent opened door applications many ﬁelds particular possibility using regularization term encourages sparsity. regret proof similar analysis extend comid framework deal exp-concave loss functions. expsection present empirical study cape examining well cape controls operates base-algorithms comparison base-algorithms well existing competition. selected following base olps simulator. algorithms implemented unless otherwise speciﬁed critical parameters base-algorithms default parameters simulator experiments. selected following four base-algorithms passive aggressive mean-reversion designed exploit mean-reversion using passive-aggressive learning online moving average reversion designed exploit mean-reversion based moving average predictions. olmar known strong performer many benchmark datasets. exponentiated gradient early universal algorithms. algorithm crp-driven mentioned above expected serve useful ingerdient ensemble. included validate cape’s ability avoid portfolio recommendations. scrp semi-constant rebalanced portfolios kozat singer algorithm ensemble sequences constant rebalancing portfolios diluting number allowed trading rounds. experimented datasets used relevant literature datasets span several types market conditions number stocks total trading periods. worth noting hardest proﬁtably trade among djia captures bear market djia stocks declined. properties sets summarized table presenting results commissions refer reader interesting performance base-algorithms without commissions summarized table exception crash pamr djia three meanreverting algorithms achieve unrealistically outstanding results clearly outperform bcrp wide margin. heavenly success almost completely eliminated introducing commissions time writing deep discount brokers interactive brokers whose maximal rate high rates incurred trading cheap stocks. signiﬁcantly better rates obtained trading highly priced stocks rebates received large volumes. wealth reported. table corresponds different market commission rate columns correspond algorithms. ﬁrst block columns corresponds base-algorithms second block cape last block known methods. observing ﬁrst known methods extremely resilient commissions range. however performance superior simple uniform-crp among winners several datasets. similar observations previously made setting without commissions ucrp achieved near identical results crp-driven algorithms next consider ﬁrst block containing base-algorithms. exception algorithms crash completely increasing commission rates majority datasets. cape present sets results based different approaches setting hyper-parameter ﬁrst called ‘naive’ based naive assignment ﬁxed datasets commission rates. obviously cannot except universal datasets commission rates. therefore also considered pragmatic approach dynamically calibrated choice thus present another results cape parameter dynamically optimized using standard walk-forward procedure whereby sequentially optimized w.r.t. cumulative wealth next period sliding window previous periods. setting called setting applied ﬁxed datasets commission rates. assess criticality choice conducted sensitivity analysis computed sensitivity total cumulative wealth respect choices window size entire datasets. resulting sensitivity graphs shown figure evident overall performance relatively stable function sets. while risk-adjusted measures sharpe ratio important well total cumulative wealth scale commission paid. full version also report performance measures. examining ﬁrst naive results cape outperforms existing methods commission rates performance deteriorates higher rates likely require stronger regularization second setting cape impressively outperforms competing methods datasets. moreover evident cape successfully exploits base algorithms even cases crash. example msci dataset examined portfolio composition cape base algorithms throughruns. datasets commission rates cape allocated nearly nonstatic weight performing base algorithms almost always among three mean-reverting algorithms weight allocation negligible trading periods. behavior consistent underlying idea behind cape constructed receive portfolio recommendations performing base algorithms. indeed part crp-driven algorithms tracked money made. presented ensemble learning strategy portfolio selection algorithms. know ﬁrst commission-aware method designed exploit given algorithms beyond crps online adversarial setting. learning algorithm extends comid accommodate exp-concave functions using newton steps achieve logarithmic regret bound procedure. demonstrated empirical performance improves state-of-the-art across board terms datasets commission rate range. control risk. however within regret minimization framework like consider here challenge highlighted impossibility achieving sub-linear regret adversarial setting respect risk adjusted measures sharpe ratio", "year": 2016}
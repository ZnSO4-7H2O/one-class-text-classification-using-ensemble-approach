{"title": "Arriving on time: estimating travel time distributions on large-scale  road networks", "tag": ["cs.LG", "cs.AI"], "abstract": "Most optimal routing problems focus on minimizing travel time or distance traveled. Oftentimes, a more useful objective is to maximize the probability of on-time arrival, which requires statistical distributions of travel times, rather than just mean values. We propose a method to estimate travel time distributions on large-scale road networks, using probe vehicle data collected from GPS. We present a framework that works with large input of data, and scales linearly with the size of the network. Leveraging the planar topology of the graph, the method computes efficiently the time correlations between neighboring streets. First, raw probe vehicle traces are compressed into pairs of travel times and number of stops for each traversed road segment using a `stop-and-go' algorithm developed for this work. The compressed data is then used as input for training a path travel time model, which couples a Markov model along with a Gaussian Markov random field. Finally, scalable inference algorithms are developed for obtaining path travel time distributions from the composite MM-GMRF model. We illustrate the accuracy and scalability of our model on a 505,000 road link network spanning the San Francisco Bay Area.", "text": "route accounts variability travel times. given time budget routing service provide route highest probability on-time arrival posed stochastic on-time arrival routing algorithm requires estimation statistical distributions travel times least means variances done today traﬃc information platforms available arterial network provide statistical distributions travel times. main contribution article precisely addresses present scalable algorithm learning path travel time distributions entire road network using probe vehicle data. increasing penetration rate probe vehicles provides promising source data learn estimate travel time distributions arterial networks. present general trends estimation travel times using probe data. trend kinematic wave theory derives analytical probability distributions travel times infer parameters probe vehicle data. approaches computationally intensive limits applicability large scale networks. trend seen large-scale navigation systems google maps provides coarser information expected travel time scale world-sized traﬃc networks. bridge trends creating travel time estimator provides full probability distributions arbitrary paths real-time works networks size large cities accepts arbitrary amount input probe data. model uses data-driven model able leverage physical insight traﬃc research. data-driven models using dynamic bayesian networks nearest neighbors gaussian models show potential methods make accurate predictions large amounts data available. main physical insights modeled article described following paragraphs. first arterial traﬃc characterized important travel time variability amongst users network variability mainly presence traﬃc lights impediments pedestrian crossings garbage trucks cause fraction vehicles stop others not. arterial traﬃc research suggests detection stops explains variability travel time distribution underline multi-modality distributions. optimal routing problems focus minimizing travel time distance traveled. oftentimes useful objective maximize probability on-time arrival requires statistical distributions travel times rather mean values. propose method estimate travel time distributions large-scale road networks using probe vehicle data collected gps. present framework works large input data scales linearly size network. leveraging planar topology graph method computes eﬃciently time correlations neighboring streets. first probe vehicle traces compressed pairs travel times number stops traversed road segment using ‘stopand-go’ algorithm developed work. compressed data used input training path travel time model couples markov model along gaussian markov random ﬁeld. finally scalable inference algorithms developed obtaining path travel time distributions composite mm-gmrf model. illustrate accuracy scalability model road link network spanning francisco area. common problem trip planning make given deadline example arriving airport within minutes. routing services available today minimize expected travel time provide reliable permission make digital hard copies part work personal classroom granted without provided copies made distributed proﬁt commercial advantage copies bear notice full citation ﬁrst page. copy otherwise republish post servers redistribute lists requires prior speciﬁc permission and/or fee. copyright x-xxxxx-xx-x/xx/xx ..... second number stops trajectory exhibits strong spatial temporal correlations. traﬃc lights major streets synchronized create green waves vehicle stop link likely stop subsequent link. diﬀerent vehicle arriving seconds later light ﬁrst link high probability stop subsequent link. phenomenon analyzed using markov model modes third besides number stops travel times correlated following reasons behavior individual drivers diﬀerent travel notably faster others congestion propagates network making neighboring links likely similar congestion levels. driver experiences longer usual travel time link heavy traﬃc likely experience heavy traﬃc subsequent links. leverage insight develop traﬃc estimation algorithm presented article end-to-end scalable model inferring path travel time distributions referred pipeline consists learning algorithm inference algorithm. section stop-&-go ﬁlter algorithm detects number stops link compresses traces values travel times traversed links corresponding number stops. lations stopping stopping consecutive links. characterizes probability stop stop link given vehicle stopped stop previous link traversed. stop-&-go ﬁlter produces labeled data train markov model. captures correlations travel times neighboring links given number stops links. signiﬁcant body prior work ﬁeld learning graphical models especially learning problems sparse gmrfs algorithms scale linearly respect dimension data unsuitable large problems particular becomes practically impossible store entire covariance matrix even classical sub-gradient methods would require careful engineering. before feeding points stop-&-go ﬁlter coordinate mapped link oﬀset distance beginning link. eﬃcient path-matching path-inference algorithm developed figure pipeline travel-time estimation model. learning runs oﬄine ﬁnds optimal parameters markov model gmrf models. inference runs online uses learned parameters produce travel time distributions input paths. graphical model eﬃciently obtain algorithms scale linearly size network. algorithm leverages eﬃcient algorithms compute cholesky decomposition adjacency matrix planar graphs results extended physical systems local correlations. learning proceed inference algorithm compute travel time distributions arbitrary paths network exact inference model intractable number possible states exploit underlying structure graphical model specialized sampling method obtain eﬃcient inference algorithm. trajectory deﬁned number stops link. following algorithm estimates number stops given noisy samples trajectory link consider generic trajectory generic link drop indices referring trajectory link notation simplicity. develop travel time model exploits compressed data returned stop-&-go ﬁlter model captures state transition probabilities probability number stop link given number stops previous link trajectory. also models correlations travel times neighboring links given state travel time model combination models figure graphical model dependency link travel time state variable conditional travel times yls. consider subgraph consisting link upstream link downstream link given path. figure presents graphical model encodes dependencies link travel time link states conditional travel times yls. total travel time yls{sl=s}. left portion ﬁgure shows subset gmrf travel time variables right portion shows subset markov chain states. graphical model shows conditioning states experienced along path allows compute path travel time summing corresponding variables gmrf. further conditions link travel times models become independent allows learn models parameters separately. process observations j=...j obtain stop trajectories probe vehicles trajectory vehicle alternates phases stop velocity vehicle zero vehicle travels positive speed. number stop phases represents state trajectory. assume sampling frequency high enough speed successive observations constant denoted note speeds rarely provided devices noisy valuable estimation. maximizing log-likelihood observations equivsolution typically sparse means limited number non-zero entries corresponding phases trajectory. solution used compute number stops. figure illustrates result trajectory estimation stop detection algorithm. dataset average number points sent vehicle link algorithm reduces trace entrance time link travel time number stops. amount data processed subsequent algorithms reduced factor almost crucial large scale applications process large amounts historical data. acts trade-oﬀ between sparsity solution observations. cross-validation appropriate setting parameter would require decimate trajectory observations learning others validation. instead chosen computing bayesian information criterion using estimate number degrees freedom. lars implementation allows eﬃcient computation choose compute corresponding solution. assumption justiﬁed traﬃc modeling commonly assumes phase constant speed number points link depends level congestion average length links network sampling frequency probe vehicles. notations observation random vector i∈wp mp-dimensional marginal full distribution hence also multivariate gaussian mean covariance obtained dropping irrelevant variables mean vector covariance matrix likelihood thus likelihood marginal distribution upstream link state learn initial probability vector transition probability matrices markov chain maximizing likelihood observing loglikelihood given susl empirical transition counts. solution corresponds transitions initial probabilities consistent empirical counts initial states transitions. present model describes correlations travel time variables. assume gaussian random variables l∈ls∈sl stacked multivariate gaussian variable size card mean covariance recall travel time link conditioned state travel time gaussian random variable mean variance σls. factorization property given hammersleycliﬀord theorem well known precision matrix encodes conditional dependencies variables. since link assumed conditionally correlated neighbors precision matrix sparse. furthermore sparsity pattern particular interest pattern graph nearly planar. take advantage structure devise eﬃcient algorithms estimate precision matrix given observations infer covariance pair variables. unfortunately problem maximizing general convex multiple local minima since partially observed variables popular strategy case complete vector algorithm called expectation-maximization procedure. case procedure good reasons instead solve related problem computing suﬃcient statistics observations. consider simpler scenario data observed denote empirical covariance matrix maximum likelihood problem likely precision matrix equivalent another problem relative imbalance distributions samples cars travel much roads others. means edges much better estimated others conﬁdence appear pecm. practice found pruning edges observations improved results marginal distribution travel times along path mixture univariate gaussian distributions. however problems algorithm practical. mixture equation contains term possible combination states size enumerating terms impossible moderately large lengths paths. order compute variance distribution mixture needs estimate covariance matrix however storing complete covariance matrix prohibitively expensive millions variables. tractable solutions using sampling method markov model choose tractable number states using random projection method construct low-rank approximation covariance matrix note mean complete distribution computed exactly time using dynamic programming algorithm. thus model also applicable situations require full distribution. present algorithm space limitations. instead considering individual likelihoods observation individually consider covariance would produced observations aggregated single covariance matrix. approach discards information example fact variables often seen others. however lets solve full covariance problem using partial observations. indeed need estimate values coeﬃcients ˜σuv non-zero precision matrix. present estimate coeﬃcients. unfortunately problem convex necessarily positive semi-deﬁnite since variables partially observed. instance partially observed bivariate gaussian variable factorization inversion operation eﬃcient well. case graph gmrf nearly planar. eﬃcient algorithms exist compute cholesky factorization near-linear time practice computing matrix fast. article presents algorithm turn traces small fraction vehicles traveling road network valuable traﬃc information develop large scale trafﬁc information platforms optimal robust routing capabilities. value model depends crucially quality estimates point point travel time distribution. another feature algorithm computational complexity ability scale large road networks. large number road segments intersections leads high-dimensional problems network reasonable size. moreover estimate travel time distributions points network needs computed real-time. would acceptable wait seconds results. section ﬁrst analyzes quality learning estimation model. then study computational complexity algorithm ability scale large networks. particular aspects algorithm arise tradeoﬀs computational complexity desired precision learning real-time inference. validation results based anonymized traces provided data aggregator. consider arterial network area francisco links. algorithm processes million points aggregated individual trajectories. trajectory less minutes long privacy reasons. full validation performance algorithm requires observation travel time every vehicle every link network. mode validation unfortunately available reasonably sized network. validate learning capabilities algorithm using data used train markov model gmrf. validation dataset perform types validation path-level validation network-level validation comparison models section results model compared simpler models arise special cases model presented article. introduce models denominations throughout evaluation. transition probability matrices i−→i given trained markov model section sample markov chain ﬁrst sampling categorical distribution parameter sequentially sample conditional distribution si|si−. using procedure generate samples possible states. complete contains terms since approximate weights positive converges towards true distribution states number samples increases. practice numerical experiments showed necessary sample relatively small number states. section includes numerical analysis evaluation sampling method. using full covariance matrix estimate covariance path impractical reasons mentioned before cannot expect compute access full covariance matrix also sums elements covariance matrix. since need know variance terms full precision approximation strategy using random projections appropriate. speciﬁcally following result path validation probe vehicles diﬀerent paths throughout road network. among trajectories vehicles validation select paths large enough number vehicles traveled perform statistical validation distribution travel times. impose minimum length paths ensure validate learning spatial distributions modes spatial correlations mode paths selected largest amount validation data. selected path plots figure compare conﬁdence intervals validation data collected path intervals computed diﬀerent models mode mode independent bottom). also display median travel times vertical black line validation data diﬀerent models. scatter crosses representing validation travel times super-imposed results model improve visualization. dent mm-gmrf uni-modal models tend overestimate median variance travel times. models cannot account diﬀerence travel times stops trajectories main features arterial traﬃc over-estimated variance illustrates important incorporate variability travel times stops structure model. side multi-modal models able capture features distribution fairly accurately. diﬀerences accuracy multi-modal independent model mm-gmrf model signiﬁcant even though model correlations estimates variability slightly accurately. seems capturing variability travel times stop important feature model. figure display cumulative distribution validation data cumulative distribution model paths figure ﬁgure displays precisely diﬀerence estimation accuracy diﬀerent models. seen figure multi-modal models accurate uni-modal counterparts. network scale validation points observation dataset represent diﬀerent paths probe vehicles. reason distributions cannot compared directly. instead compute log-likelihood validation path analyze quality travel time bounds provided distribution path. values provide insight quality model. example model large a-value tends overestimate travel times. similarly model large b-value tends underestimate travel times. uni-modal models large a-values. large variance estimated models account variability travel times leads non-negligible probability densities small travel times physically possible. compared likelihood validation figure plot analyzes quality diﬀerent percentiles distribution. particular notice eﬀect capturing correlations multi-variate model mostly aﬀects estimation high percentiles distribution. expect fact correlations accounts impacts slow fast drivers congested lest congested conditions. figure shows kullback-leibler divergence approximate distributions respect exact distribution. compare runs sampling respective sizes length path links. divergence measures similarity distributions. seen even small number samples leads close approximation. section discuss scalability aspects learning algorithm learning networks deﬁned different bounding boxes. bounding boxes adjusted number links subnetworks diﬀerent orders magnitude. longest step training gmrf. report figure training time diﬀerent networks parameters equal. training time increases linearly number figure displays average likelihood validation paths computed diﬀerent models. ﬁgure also analyzes path length inﬂuences results. motivations length path inﬂuences support distribution aﬀect likelihood diﬀerent models perform diﬀerently diﬀerent lengths take account spatial dependencies similar way. expected analysis figures multi-modal models perform better uni-modal counterparts. compared path validation results ﬁgure shows signiﬁcantly eﬀect correlations. ﬁgure shows slight improvements multi-modal model takes account correlations. surprisingly contrary true uni-modal models. also notice likelihood decreases length path expecting. figure analyzes quality travel time distribution computed network. that plot assesses much learned distribution matches validation data. path validation dataset corresponds inverse cumulative distribution travel time observation point curve corresponds percent validation points estimation perfect would exactly data points percentile quantify much model deviates perfect estimation display metrics denoted correspond curve hoﬂeitner herring abbeel bayen. learning dynamics arterial traﬃc probe data using dynamic bayesian network. ieee transactions intelligent transportation systems dec. inference ﬁlter model-based low-latency matching probe vehicle data. algorithmic foundations robotics springer tracts advanced robotics pages heidelberg germany springer-verlag. prediction travel times vehicles traveling known routes. proceedings sigspatial international conference advances geographic information systems. state travel time estimation focused either precise computationally intensive physical models large scale data-driven approaches. presented novel algorithm travel time estimation aims combining best worlds combining physical insights scalable algorithms. model variability travel times stops intersections using stop-&-go ﬁlter markov model learn spatial dependencies stop locations. also take account spatio-temporal correlations travel times driving behavior congestion using gaussian markov random fields. particular present highly scalable algorithm train perform inference gaussian markov random fields applied geographs. analyze accuracy model using probe vehicle data collected area francisco results underline importance take account multi-modality travel times arterial networks presence traﬃc signals. quality results obtain competitive state state traﬃc also highlight good scalability algorithm. zheng zuylen. reconstruction delay distribution signalized intersections based traﬃc measurements. proceedings ieee intelligent transportation systems conference pages sept.", "year": 2013}
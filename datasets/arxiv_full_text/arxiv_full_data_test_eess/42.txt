{"title": "Pseudo-Linear Time-Invariant Magnetless Circulators Based on  Differential Spatiotemporal Modulation of Resonant Junctions", "tag": "eess", "abstract": " In this paper, we present voltage- and current-mode differential magnetless non-reciprocal devices obtained by pairing two single-ended (SE) circulators, each consisting of three first-order bandpass or bandstop LC filters, connected in either a wye or a delta topology. The resonant poles of each SE circulator are modulated in time with 120 deg phase-shifted periodic signals, resulting in synthetic angular-momentum biasing achieved through spatiotemporal modulation (STM). We tailor the two SE circulators to exhibit a constant 180 deg phase difference between their STM biases. Unlike conventional differential time-variant circuits, for which only the even or odd spurs are rejected, we show that the proposed configuration cancels out all intermodulation (IM) products, thus making them operate alike linear time-invariant (LTI) circuits for an external observer. In turn, this property enhances all metrics of the resulting circulator, overcoming the limitations of SE architectures, and improving insertion loss, impedance matching, bandwidth and noise figure. We show that this differential architecture also significantly relaxes the required modulation parameters, both in frequency and amplitude. We develop a rigorous small-signal model to guide the design of the proposed circuits and to get insights into their pseudo-LTI characteristics. Then, we validate the theory with simulations and measurements showing remarkable performance compared to the current state of the art of magnetless non-reciprocal devices. ", "text": "abstract— paper present voltagecurrent-mode differential magnetless non-reciprocal devices obtained pairing single-ended circulators consisting three first-order bandpass bandstop filters connected either delta topology. resonant poles circulator modulated time phase-shifted periodic signals resulting synthetic angular-momentum biasing achieved spatiotemporal modulation tailor circulators exhibit constant phase difference biases. unlike conventional differential time-variant circuits even spurs rejected show proposed configuration cancels intermodulation products thus making operate alike linear time-invariant circuits external observer. turn property enhances metrics resulting circulator overcoming limitations architectures improving insertion loss impedance matching bandwidth noise figure. show differential architecture also significantly relaxes required modulation parameters frequency amplitude. develop rigorous small-signal model guide design proposed circuits insights pseudo-lti characteristics. then validate theory simulations measurements showing remarkable performance compared current state magnetless non-reciprocal devices. irculators three-port non-reciprocal components crucial enable full-duplex communication since allow unidirectional signal transmission transmitter antenna isolating receiver self-interference. commercial circulators manuscript received august authors department electrical computer engineering university texas austin austin u.s.a. a.a. also advanced science research center city university york york u.s.a. work supported qualcomm innovation fellowship force office scientific research defense advanced research projects agency lockheed martin silicon audio simons foundation national science foundation. a.a. currently chief technology officer silicon audio circulator. terms arrangement reviewed approved university texas austin accordance policy objectivity research. based magnetic biasing rare-earth ferrite materials bulky expensive incompatible standard integrated-circuit technologies. order remove magnet active circulators utilize intrinsic non-reciprocal properties transisters explored devices never become popular since suffer figure power handling fundamentally poor noise performance periodically time-varying circuits presented alternative approach towards magnetless non-reciprocity achieve loss small noise figure watt-level power handling benefits particular proposed synthetic spatiotemporal modulation angular-momentum biasing resonant junctions results symmetric circulators decent performance many metrics. main challenge approach suffers strong products close proximity desired band mixing input relatively low-frequency modulation signals. products pose interference problem neighboring channels also require large modulation parameters achieve good performance e.g. modulation amplitude larger prohibits integration using submicron cmos technologies. furthermore effectively reduce circulator’s overall power handling actual full-duplex system since could saturate front-end drive power amplifier instability load-pull effects. importantly products enforce bound minimum insertion loss weakens argument circulators compared reciprocal interfaces based couplers balanced duplexers therefore rejection products pivotal important cancelling fundamental harmonic signal port enable circulators commercial systems. although filtering sound reasonable option fact practical since suffers many problems. specifically adding filters circulator’s three ports increases overall size degrades total insertion loss. also imposes restriction minimum modulation frequency order relax requirements sharpness filters which turn requires large modulation amplitude maintain sufficient isolation increases power consumption complicates integration even impossible underlying physical principle circulators magnetic circulators i.e. degeneracy counter-rotating modes resonant junction lifted applied bias. radio frequencies achieved modulating natural oscillation frequencies bandpass bandstop tanks connected delta topology respectively phase-shifted periodic signals frequency amplitude fig. shows simplified schematic topologies resonance frequency n-th tank given static unmodulated resonance frequency tanks modulation amplitude angular frequency respectively constant hz/volt units quantifying effect modulation voltage resonance frequencies tanks modulation scheme results call angular-momentum biasing since involves phase variation space time. bias direction definition direction along phase modulation signals increases. example assumes phase increases clock-wise direction based port definitions fig. thus resulting clock-wise bias. this turn provides preferred sense precession counter-rotating modes resonant submitted ieee transactions microwave theory techniques achieve practical varactors. moreover filters circulators’ typically non-reconfigurable hence tunability feature modern communication systems sacrificed. ref. proposed partial solution problems based combining circulators anti-phase bias baluns. results based heuristic investigations without deep understanding ultimate capabilities architecture detailed simulation experimental validation. paper address issue developing rigorous theory differential circulators showing interesting characteristics ones reported particular show suitable combination circulators differential configuration surprisingly results total cancellation products excitation port frequency thus making circulators essentially pseudo-lti circuits. property turn alleviates trade-off products modulation parameters enabling strong reduction modulation frequency amplitude still achieving remarkable performance. interestingly implies differential bias synthesizes truly continuous angular momentum mimicking mechanical motion temporal modulation even though implemented using discrete number resonators fully consistent magnetic-biased circulators aligned electron dipole moments imitate continuous rotation ferrite disk macroscopic level fact collection quantized spins furthermore analogy passive mixers introduce dual implementations differential circulators voltage-mode voltage-mode circulators implemented using bandstop/delta junctions baluns used subtract products since arise common voltages terminals constituent circulators current-mode circulators based bandpass/wye junctions products arise differential currents rejected tying terminals circulators together cancel currents. paper organized follows. section briefly summarize circulators presented discuss limitations. section qualitatively analyze proposed voltagecurrent-mode topologies explain circuits emerged understand differences. then develop detailed small-signal model voltage-mode architecture prove indeed im-free derive analytical expressions s-parameters. completeness similar analysis current-mode topology provided appendices. section present simulated measured results voltage-mode topology remarkable performance nearly metrics compared current state art. finally draw conclusions section function circuit elements modulation parameters found respectively. finding suggests combining circulators phase difference modulation signals constituent circulators cancels products entirely. based observation fig. fig. show proposed voltagecurrent-mode differential architectures respectively. constituent circulators voltage-mode topology based bandstop/delta junctions combined together using differential ports contrast current-mode topology employs bandpass/wye junctions terminals directly tied together. topologies ensure products circulator opposite parities hence destructively interfere ports fundamental components phase therefore constructively. specifically voltage-mode topology yields even symmetry products therefore resulting infinite effective port impedance products shown fig. hand fundamental components experience virtual ground middle differential ports leading effective port impedance half original differential port impedance shown fig. unlike products finite port impedance fundamental frequency allows current flow consequently power transfer ports. duality current-mode topology results opposite symmetries i.e. even fundamental frequencies shown fig. fig. respectively. fig. fig. show products voltagecurrent-mode topologies prohibited leaking external ports since effective open short circuit impedance respectively. since power conserved products reflect back resonant junctions regarded excitations modulation signal similarly original input generate harmonics second-order spurs exhibit symmetry fundamental component hence half-circuit models fig. therefore leak external ports. general circulator designed matched fundamental harmonic hence products guarantee matching frequencies partially reflect enter circulator again. submitted ieee transactions microwave theory techniques junctions fig. modes defined express fig. similarly tank currents tank voltages fig. superposition quantities follows aforementioned counter-rotating modes. notice phase modes increases either clockwise counter clockwise adds cycle. general common mode whose phase tanks also defined shown cancellation mode necessary optimal performance circulators. circuits fig. indeed satisfy condition since non-zero common mode either topologies would violate kirchhoff’s laws. avoid confusion common differential components decomposition total signal called in-phase mode ports rest paper. topologies fig. achieve strong non-reciprocity without magnets suffer several disadvantages. particular topology requires many filters modulation network increases overall form factor complicates design. also requires using impedance transformers ports increase loaded quality resonant junction necessary factor achieve strong non-reciprocity clearly transformers intrinsic loss increase size further. moreover constituent series tanks amplify input voltage across varactors roughly order degrades circulator’s linearity power handling. problems overcome delta topology however requires large modulation amplitude achieve good performance thus increasing dynamic power consumption prohibiting integration submicron cmos technologies. another serious problem topologies suffer strong products mixing modulation frequencies. mentioned introduction products limit performance particularly power handling insertion loss. next sections present differential architecture overcomes problems results remarkable performance compared current state art. order understand operation principle differential circulators consider adding constant phase modulation signals i.e. prove following analysis fundamental component rotating modes subsequently amplitude frequency biasing combined signals baluns’ shunt inductance connecting terminals sufficiently large resistance baluns’ balanced port. furthermore parallel tanks pair varactors varactors common-cathode configuration common node connected inductor form together bandpass resonance thus allowing modulation signal pass while time prohibiting signal leaking delta junction. small-signal assumption circuit fig. simplified shown fig. ports along baluns replaced differential also common-cathode varactors dc/modulation network replaced time-variant capacitors whose capacitance assuming weak linear modulation given static capacitance common-cathode varactors bias effective capacitance variation proportional modulation also assume varactors’ voltage inductors’ dispersion-less parallel resistance unloaded quality factor tanks. applying kirchhoff’s laws tank fig. writing result matrix form similarly gives rise harmonics symmetry first-order products therefore completely reflected back resonant junctions. continuing recursive process find spectrum ports expected contain even-order harmonics qualitative analysis suggests performance improvement differential configuration would incremental associated weakening first non-zero higher products next section however prove proposed circulators fig. generate product making pseudo-lti circuits drastically improving performance. result cannot predicted half-circuit models fig. typically developed conventional differential circuits requires rigorous analysis complete circuit. since analysis topologies quite similar focus rest paper voltage-mode architecture develop small-signal model provide simulated measured results remarkable performance. completeness analysis current-mode topology provided appendix section provide theoretical analysis voltage-mode topology. fig. shows complete circuit implementation voltage-mode circulator baluns used realize differential ports. baluns also used provide required anti-phase biases upper lower circulators three phase-shifted modulation signals differential common components counter-rotating modes respectively. circuit fig. first-order resonant tanks would normally lead sixth-order system absence in-phase modes reduces order described represent fourth-order system second-order linear differential equations. equations solved fourier transform yields vectors tank voltages upper lower circulators respectively. equations simplified express superposition junction’s modes expressed applying transformation recognizing in-phase mode circulator excited yields proper choice circuit designed elements modulation parameters destructively interfere port other required achieve infinite isolation. specifically port isolated results following conditions modulation parameters substituted unloaded quality factor resonant tanks). operation given frequency used calculate required modulation parameters achieve infinite isolation. quite interestingly conditions lead unitary transmission third port assuming power conservation leads perfect matching input port. therefore proposed differential circuits allow lossless case realize ideal circulator s-matrix given hile circulators advantage since required modulation parameters optimize return loss insertion loss isolation order insight operation circulator fig. show s-parameters three ports excitation port versus modulation parameters normalized respectively. charts generated using assuming ghz. seen required modulation parameters optimize indicated points respectively mentioned earlier moreover fig. shows circulator’s defined minimum frequency range maintain less less general relevant metric practical systems optimized s-parameters single-frequency. optimizing however requires equations show frequency components existing circuit fundamental harmonics first-order products without additional higher-order products incorrectly predicted approximate analysis differential circuits based half-circuit models fundamental harmonics exclusively excited differential components allowing flow ports first-order products exclusively excited common components hence trapped inside resonant junction cannot carry power external ports. result shows that interestingly proposed circulator hides intrinsic time-variant characteristics external ports making essentially pseudo-lti circuit. mentioned earlier im-free characteristic allows achieve insertion loss increases effective power handling avoids interference neighboring channels also relaxes required modulation parameters significantly show later paper. finally s-parameters calculated follows mentioned earlier drastic improvement differential architecture cancellation products. fig. shows signal spectrum ports indeed im-free. although incident signal assumed fig. conclusion holds input frequency. contrast fig. shows products implementation apart) close fundamental component analysis current-mode topology analogous provided appendix unlike counterparts differential current-mode topology several advantages compared topology. specifically since baluns ports eliminated overall insertion loss noise figure improved form factor complexity reduced immunity random mismatches maintained. furthermore original disadvantages topology eliminated i.e. additional filters required modulation network block modulation signal since differential circuit exhibits virtual ground symmetry ports. also impedance transformers removed since requirements modulation parameters consequently q-factor circuit relaxed thus allowing design current-mode circuit termination ghz. however voltage-mode circulator still maintains different modulation parameters indicated point impractical choose paper operate assumes maximum realistic capacitance variation commercial off-the-shelf varactors hence results best possible time becomes minimum. case fig. close shows theoretical s-parameters center frequency respectively would like stress infinite center frequency however still possible circuit designed point practice desirable minimize dispersion s-parameters frequency range operation order avoid distortion realistic signals finite bandwidth. uniform particular desirable simplifies design following layers self-interference cancellation full-duplex systems. sake comparison fig. shows s-parameters circulator designed using modulation frequency results clearly much worse. specifically degrade respectively becomes undefined since minimum level satisfied. guided theoretical analysis section prototype differential voltage-mode circulator schematic) designed using off-the-shelf discrete components listed table order account parasitics layout simulated using momentum generated s-parameters combined commercially available spice models components perform post-layout circuit/em co-simulations. design fabricated total area occupied components notice bottom sides populated circulator symmetric compact layout shown figs. fig. shows measurement setup table provides list used equipment take measurements. s-parameters fig. shows measured s-parameters magnitude phase ports mhz. notice modulation parameters particularly amplitude much lower counterparts differential circuit still results much better performance. specifically measured circulator’s center frequency respectively fractional sake comparison simulated advantage terms linearity power handling since relies parallel tanks amplify input voltage across wye/current-mode topology rather amplify current contribute non-linearity varactors. s-parameters also shown fig. simulated respectively fractional clearly simulated measured s-parameters excellent agreement different theoretical results fig. reason baluns included small-signal analysis section iii.b simplicity. baluns contribute insertion loss importantly result finite imbalance differential architecture random component mismatches. expect imbalance reason slight asymmetry different ports shown fig. baluns’ loss estimated using circuit/em co-simulations each de-embedded measured results actual differential circulator becomes excellent theoretical results fig. worth mentioning insertion loss circuit would exhibit connected directly differential transceiver case baluns omitted. best knowledge lowest lptv magnetless circulators presented to-date available room improvement optimized design sacrificing modulation parameters increasing values. interestingly current-mode topology even require baluns therefore total case expected circulator also tuned operation different channels shown fig. simply controlling bias varactors adjusting modulation voltage accordingly order account different slope characteristics quiescent point. maximum tunability range maintaining specs s-parameters measured harmonic response fig. shows measured simulated harmonic spectrum transmitted isolated ports incident signal dbm. despite measured products small modulation frequency still finite mainly non-linear characteristics varactors random mismatches components inevitable practice also play role lead finite imbalance baluns generally constituent circuits differential architecture. however impact imbalance insignificant deduced fact measured products excellent agreement simulations issue neglected. compared architecture products least smaller even though reduced mhz. would like stress implementation would non-linearity circulators exclusively varactors ultimately leads compression maximum power circulator handle defined input power guarantees compression less time maintains fig. shows measured simulated results transmitted power isolation versus input power ghz. measured ixdb occur thus resulting pmax value good agreement simulated value dbm. also notice peaking pmax since capacitance variation high power effectively reduced higher-order terms varactors’ non-linear characteristics hence operation point design charts shown fig. shifted closer maximum. fig. also shows fundamental third-order harmonic transmitted power in-band tones separation. measured input-referred third-order intercept point found simulated value dbm. power handling presented circuit slightly less solely varactors used paper lower breakdown voltage. varactor used differential implementations pmax differential architecture would actually larger since input power halved upper lower circulators baluns. despite artifact results fig. still larger reported values magnetless circulator presented to-date. noise figure handling noise figure summarized table comparison previous works. several metrics surpass results magnetless circulators presented to-date room improvement thus making differential circulator significant step quest towards integrated full-duplex communication systems. here present detailed analysis differential voltage-mode topology derive equations given section iii.b. applying kirchhoff’s laws n-th tank fig. following similar analysis over center frequency. however noise generated circuit doubled similarly conventional differential circuits. fact voltage-mode topology increases even additional loss baluns. notice current-mode topology appendix problem. amplitude phase noise modulation sources also total anti-phase bias constituent circulators generated sources paper noise becomes strongly correlated terminals differential ports therefore cancels out. noise folding frequencies also adds since proposed differential circuits reduce products contribution becomes negligible. reduction last noise mechanisms i.e. modulation sources folding much stronger increased thermal noise generated circuit. therefore overall improves. fact since differential circuits pseudo-lti passive systems exactly equal fig. shows measured simulated simulated value indeed nearly equal simulated measured larger measured imperfect cancellation products discussed earlier. best knowledge smallest measured magnetless circulators proposed to-date. presented pseudo-lti architecture magnetless circulators based combining bandstop/delta bandpass/wye junctions anti-phase bias either voltagecurrent-mode topology respectively. developed rigorous analytical model proposed circuits explained detailed design procedure achieve given specifications insertion loss return loss isolation bandwidth. theory shows products indeed cancelled despite fact order system increased increased number tanks. based theory designed prototype voltage-mode performance including scattering parameters harmonic response power equations simplified express superposition in-phase clockwise counter-clockwise modes. mode decomposition expressed following matrix transformation completeness present analysis dual differential current-mode topology appendix. complete circuit topology shown fig. following similar steps appendix applying kirchhoff’s laws n-th tank fig. vectors tank currents upper lower circulators respectively vector input voltages ports given tank currents superposition differential follows zero assuming excitation port since general constructed using linear superposition individual port excitations. order find s-parameters also transformed basis rotating modes resulting bharadia mcmilin katti full duplex radios sigcomm computer commun. rev. vol. bliss parker margetts simultaneous transmission reception improved wireless network performance proc. ieee/sp workshop statist. signal process. aug. duarte sabharwal full-duplex wireless communications using off-the-shelf radios feasibility first results proc. conf. rec. asilomar conf. signals syst. comput. nov. submitted ieee transactions microwave theory techniques tanaka shimomura ohtake active circulators realization circulators using transistors proc. ieee vol. mar. goel analui hashemi tunable duplexer passive feed-forward cancellation improve rx-tx isolation ieee trans. circuits syst. reg. papers vol. feb. reiskarimian highly-linear integrated magnetic-free circulator-receiver full-duplex wireless proc. ieee int. solid-state circuits conf. dig. tech. papers jan. dinc krishnaswamy magnetic-free non-reciprocal passive cmos circulator based spatiotemporal conductance modulation proc. ieee int. solid-state circuits conf. dig. tech. papers jan. zhou reiskarimian krishnaswamy receiver integrated magnetic-free n-path-filter-based non-reciprocal circulator baseband self-interference cancellation full-duplex wireless proc. ieee int. solid-state circuits conf. dig. tech. papers jan. estep sounas andrea magnetless microwave circulators based spatiotemporally modulated rings coupled resonators ieee trans. microw. theory techn. vol.", "year": "2017"}
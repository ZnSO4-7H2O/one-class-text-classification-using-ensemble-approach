{"title": "Estimating Phase Duration for SPaT Messages", "tag": "eess", "abstract": " A SPaT (Signal Phase and Timing) message describes for each lane the current phase at a signalized intersection together with an estimate of the residual time of that phase. Accurate SPaT messages can be used to construct a speed profile for a vehicle that reduces its fuel consumption as it approaches or leaves an intersection. This paper presents SPaT estimation algorithms at an intersection with a semi-actuated signal, using real-time signal phase measurements. The algorithms are evaluated using high-resolution data from two intersections in Montgomery County, MD. The algorithms can be readily implemented at signal controllers. The study supports three findings. First, real-time information dramatically improves the accuracy of the prediction of the residual time compared with prediction based on historical data alone. Second, as time increases the prediction of the residual time may increase or decrease. Third, as drivers differently weight errors in predicting `end of green' and `end of red', drivers on two different approaches may prefer different estimates of the residual time of the same phase. ", "text": "intersection signiﬁcant interest activity automotive communities devoted standardization spat message formats suggest intersections deliver spat become common. several studies offer ‘eco-friendly’ speed advice based spat simulate beneﬁts. model predictive control used construct vehicle trajectory traverses sequence intersections without stopping light knowing spat sequence advance. speed advice based spat messages upcoming intersection expected reduction emissions fuel consumption evaluated using vehicle dynamics model. velocity planning algorithm eco-driving signalized corridor simulated studies report fuel savings arterial driving ranging percent. wide variability fuel savings estimates differences underlying vehicle simulation models. hand glidepath ﬁeld experiment found drivers speed advice saved percent whereas spatbased automatic speed control saved percent fuel relative uninformed driver glidepath experiments suggest accuracy spat estimate essential maximize fuel savings automation achieve. another ﬁeld experiment reports comparable fuel savings. spat messages also improve safety preventing rearend accidents errors driver predictions phase duration also drivers know conﬂicting approaches right way. review cases spat gives european perspective. studies propose spat estimation based noisy measurements signal phase. approach estimates cycle length phase durations cycle start time several intersections along segment ness avenue francisco. ﬁxed-time signals considered. data consists samples position speed taken every runs segment month. however estimate duration intersection samples occurred right right intersection found usable. samples aggregated estimate duration red. accuracy estimates unimpressive absolute errors duration since signal timing parameters ﬁxed available francisco transportation authority month-long data abstract—a spat message describes lane current phase signalized intersection together estimate residual time phase. accurate spat messages used construct speed proﬁle vehicle reduces fuel consumption approaches leaves intersection. paper presents spat estimation algorithms intersection semi-actuated signal using realtime signal phase measurements. algorithms evaluated using high-resolution data intersection montgomery county algorithms readily implemented signal controllers. study supports three ﬁndings. first realtime information dramatically improves accuracy prediction residual time compared prediction based historical data alone. second time increases prediction residual time increase decrease. third drivers differently weight errors predicting ‘end green’ ‘end red’ drivers different approaches prefer different estimates residual time phase. spat message describes current phase signalized intersection together residual time phase every lane intersection. estimate periodically broadcast intersection ﬁxed-time controller spat information deﬁnitive; challenge actuated controller estimate residual time given spat message data elements include starttime phase minendtime maxendtime likelytime conﬁdence nexttime spat message used together message describes physical geometry intersections. vehicle approaching leaving intersection knowledge position speed information take residual time current phase spat message calculate speed proﬁle reduces stop-andgo driving idling intersection u.s. today broadcasts spat messages cities trafﬁc management center receives phase information intersections. experience inexpensive collect process phase information locally shahana ibrahim dileep kalathil department electrical computer engineering texas university. rene sanchez sensys networks berkeley california. pravin varaiya department electrical engineering computer sciences university california berkeley. corresponding author email dileep.kalathiltamu.edu collection processing effort estimate parameters seems misspent. follow-on study simultaneously estimates waiting time spent queue shows signiﬁcant improvement spat estimate approach estimating parameters ﬁxed-time signals associating speed measurements ﬂoating cars signal status earlier exploited scheme described engages several cooperating drivers smartphones locate signal light intersection predict phase duration. much effort spent detect signal head identify signal color. remaining tasks estimating phase durations ‘synchronization’ locating current time within current cycle phase vehicle ﬁgure residual time phase. case ﬁxed-time signal known timing plan phase durations known synchronization equivalent determining time phase transition green red. actuated signal phase duration varies cycle next three machine learning algorithms tested predict duration next phase signal phase history; however best prediction based previous phases cycle lengths slightly better taking next phase duration last duration. authors discuss phase duration estimates made vehicles earlier times transferred vehicle making current prediction. studies spent much effort collecting processing noisy measurements signal phase. contrast city transportation agencies auto companies obtain signal phase data directly signal controller. cities invest spat devices improve mobility generally provide priority public transportation auto companies devote effort improving spat algorithms designing interfaces present spat messages drivers. study relies data collected trafﬁc intersections make probabilistic spat prediction. phase duration data used compute empirical frequency distribution beginning cycle. second cycle prediction phase takes value percent ‘conﬁdence’ phase green second whereas means phase green red. ﬁgure residual time current phase vehicle also needs know time within cycle although mention need broadcast time. even time however prediction uninformative. course conﬁdence’ predictions incorrect; importantly leave uncertainty grow require higher conﬁdence level. deeper problem compressing data frequency distributions frequency distribution obscures residual times phase spat message supposed provide vehicles need design speed proﬁle. brief description explain spat estimate derived states displayed driver countdown clock dashboard. website declares combines real-time signal data location speed limit information predict upcoming trafﬁc signal behavior deliver cellphones. several papers study predicting vehicle arterial roads using prediction adaptive signal control focus predicting phase duration trafﬁc intersections quite different. develop algorithms estimate residual duration every phase semi-actuated intersection montgomery county detailed description algorithms intersection provided; study second intersection suggests procedure applied elsewhere. direct measurements intersection provide ground truth used evaluate algorithms. algorithms predict times future phase transitions based previous phase measurements real time information locates current time within current phase. actuated signals conditioning prediction real time information greatly reduces prediction error. knowledge ﬁrst paper information available signal controller. perhaps surprising ﬁnding semi-actuated signals time increases estimate residual phase duration increase decrease posing challenge construct fuel-minimizing speed proﬁles. another contribution stems observation driver best spat estimate minimizes driver’s loss function. example seems likely drivers differently weight errors predicting ‘end green’ ‘end red’ drivers different approaches would prefer different estimates phase transition since ‘end green’ approach intersection would ‘end red’ other. suggests multiple spat estimates created broadcast. paper organized follows. section describes intersection site measurement system. section formulates spat estimation problem. sections describes prediction algorithms evaluation performance. section describes prediction minimization loss function. prediction duration future phases described section section describes evaluation algorithms using data another intersection. section viii collects main conclusions. vehicle detections. phase coordination phase implying thereby phase last cycle receive allocation green time. main direction trafﬁc east-west direction detectors signal control. detectors secondary northsouth direction. vehicles detected secondary direction green duration shortened time saved thereby added duration phases main direction vehicles making left turn movements also detected green duration also reduced fewer vehicles detected turn pockets figure thus denote duration phase durations vary cycle next maintaining identities movements permitted intersection. movements arranged dual ring barrier structure fig. ring comprises phases ring comprises phases phases zero duration. thicker vertical lines barriers. across montrose east intersection pedestrian cross-walk actuated every cycle beginning phases intersection equipped magnetic vehicle detectors stop advance locations departure lanes. latter permit accurate count turn movements addition current signal phase obtained controller every measurements time stamped common clock accuracy. detectors measurement only; controller relies different detectors signal control. summary data consists time series vehicle detections signal phase time resolution data sent wirelessly access point located controller sent cellular connections trafﬁc management center server. data obtained courtesy sensys networks inc. analysis uses months data september october phase data used study; future paper report additional predictive power provided vehicle detection data. intersection regulated semi-actuated coordinated controller. cycle length ﬁxed timing plan depending time week. cycle divided nominal durations phase; controller modiﬁes durations cycle depending figure deﬁne spat estimation problem. time seconds. ﬁgure shows cycles length starting times d··· duration p··· time phase p··· cycle current time cycle phase p··· t··· residual time phase included spat message. observe phase times calculate phase durations e.g. etc. conversely phase durations calculate times. spat problem information previous phases available time cycle problem predict residual times phases future cycles given study uses data cycles september october phase data sample cycles shown figure plot similar figure difference plot rotated degrees cycles ‘stacked’ horizontally phases ring shown coordinate cycle number; coordinate time seconds cycle. length cycle determined timing plan. every cycle starts phase duration colored green figure minimum value pedestrian clearance time duration extended time additional vehicle detected phase followed left turn phase colored lasting duration depends detection left turn vehicles detection triggers extension zero many cycles left turn vehicles detected. cycle ends coordination phase colored blue lasts time large values occur peaks. yellow signal phases included green duration. present several algorithms phase duration prediction spat. figure denote duration phase since cycle phase actuated contiguous interval time easy calculate histograms empirical probability distributions durations data figure following consider phase duration data cycles whose length seconds makes sense aggregate durations cycles different length. since enough calculate pdfs since dependent cannot calculated pdfs prediction made start cycle nothing known except unconditional pdfs phase durations figure reasonable prediction durations expected values. values e··· inserted plots figure consider prediction residual duration later time cycle. still actuated i.e. better prediction would expected value conditioned event deﬁne prediction figure shows conditional expected value figure plots conditional expectation function remark predicting residual phase duration time remaining phase change green might useful eco-driving applications. vehicles control acceleration based information order minimize fuel consumption. algorithm provides residual phase duration. example residual time time simply figure shows function remark striking feature residual time suddenly increases appear counter-intuitive. example consider driver waiting left turn signal phase turn green coincides residual time decreasing initially would expect intuitively increasing suggests less time remaining however driver residual time suddenly extended seconds decreasing again. residual time revealed driver countdown clock clock must make backward jump assuming prediction duration change time i.e. eco-driving control strategies rule realistic situation depicted fig. create signiﬁcant problems designing control strategies eco-driving. course complexity fig. disappears case ﬁxed-time signals whose pdfs delta-functions. fig. fig. shows conditional conditioned fig. shows conditional expectation based prediction fig. shows conditional expectation based prediction residual time spat message includes conﬁdence level prediction. empirical give prediction given conﬁdence bound. required conﬁdence bound. deﬁne conﬁdence based prediction value guarantee cumulative distribution function required solution equation consider conditional expectation based prediction shown fig. time cycle prediction residual time data many cycles samples exact error prediction residual time mean absolute error prediction samples remark formula considered suspect calculation includes value sample ‘leave-one-out’ error calculation replaces prediction obtained leaving sample however since number samples large materially affect prediction error. exactly calculate conﬁdence based prediction shown figure formula difference replaced conﬁdence based estimate. fig. plots conditional expectation based prediction conﬁdence based prediction comparison. figure plots conditional expectation conﬁdence based predictions noteworthy aspect ﬁgure prediction errors generally decrease real-time information accumulated intersection. take quadratic loss function must replaced mean-squared error well known best prediction minimizes conditional expectation conﬁrmed fig. evidently real-time information signiﬁcantly improves prediction form conditional expectation conﬁdence bounds function takes loss absolute value error i.e. |y|. positive error negative error magnitude judged equally harmful. seems likely overestimate ‘time red’ evaluated driver differently error estimate ‘time green’. consideration suggests using asymmetric loss function conditional cumulative distribution. conﬁdence based estimate appropriate choice conﬁdence bound. loss function plotted figure slopes different. driver feels driving phase feel slopes exchanged driving phase suggests intersection broadcast different predictions phase duration different approaches. section considered prediction detail. consider complex prediction. suppose driver time tildenwood minor phase active wants know phase start. figure means driver wants prediction time consider approaches answer. approach treat single random variable recognize implies obtain empirical predict residual duration conditional expectation approach treat -dimensional random variable obtain empirical conditional distribution calculate prediction conditional expectation approach approximate approach exact requires calculating two-dimensional probability distribution predictions following approaches plotted fig. prediction error plotted fig. expected prediction following approach smaller mean absolute error. section apply prediction algorithm intersection montrose road montrose pkwy shown figure ﬁgure also indicates three phase movements permitted intersection. cycle starts phase followed phase analysis uses nine shown fig. uses data nine months. note phase duration variable compared earlier intersection. order sense much data necessary make prediction propose sliding window approach. predicting phase duration data days days days days. compute three different empirical pdfs make three different prediction. prediction done described section iv-a. prediction using three different given fig. averaged whole data shown fig. larger compared previous intersection phase duration variable. remark plot shows prediction error decrease using data trafﬁc hence phase duration process strictly stationary. similar three window lengths window length smaller weeks prediction error increases. paper describes several algorithms spat predictions i.e. estimates remaining duration signal phase. algorithms historical real-time phase data semi-actuated intersection montgomery county algorithms readily implemented intersection’s signal controller. summarize three principal ﬁndings. first knowing much time current phase elapsed greatly improves prediction residual time phase well subsequent phase. further important statistic underlying algorithms probability distribution residual time conditioned available information. conditional probability easy compute distribution readily construct spat message. example intersection figure spat message phase time second actuated signal time increases real-time prediction residual time increase well decrease. poses challenge design speed proﬁles reduce fuel consumption. third drivers likely weight differently errors predicting ‘end green’ ‘end red’ drivers different approaches would prefer different estimates residual time phase. therefore worth considering providing multiple estimates residual time. several issues warrant study. since duration phase actuated intersection depends vehicle detections cycle incorporating estimate phase duration reduce error. future paper report improvement predictive power vehicle detection measurements intersection figure second figure suggests sequence phase durations stationary estimate empirical probability distributions averaging available data. rather recent data samples given weight. challenging approach estimate model dependency among subsequent phase durations. extent possible would certainly improve spat estimates. usgao intelligent transportation systems vehicle-to-infrastructure technologies united states government accountability ofﬁce tech. rep. september asadi vahidi predictive cruise control utilizing upcoming trafﬁc signal information improving fuel economy reducing trip time ieee transactions control systems technology vol. rakha kamalanathsharma eco-driving signalized intersections using communication international ieee conference intelligent transportation systems ieee boriboonsomsin schweizer winckler zhou w.b. zhang barth field operational testing eco-approach technology ﬁxed-time signalized intersection international ieee conference intelligent transportation systems fayazi vahidi mahler winckler trafﬁc signal phase timing estimation low-frequency transit data ieee transactions intelligent transportation systems vol. fayazi vahidi crowdsourcing phase timing pretimed trafﬁc signals presence queues algorithms back-end system architecture ieee transactions intelligent transportation systems vol. herring bayen delay pattern estimation signalized intersections using sampled travel times transportation research record journal transportation research board koukoumidis l.-s. martonosi signalguru leveraging mobile phones collaborative trafﬁc signal schedule advisory proceedings international conference mobile systems applications services. chen improved adaptive signal control method isolated signalized intersection based dynamic programming ieee intelligent transportation systems magazine vol. shahana ibrahim graduate student department electrical computer engineering texas university. completed bachelors degree national institute technology calicut india prior starting graduate education working system validation engineer wireless infrastructure products texas instruments bangalore india research interests include broad areas signal processing machine learning optimization. dileep kalathil assistant professor electrical computer engineering department texas university since august joining tamu postdoctoral scholar department electrical engineering computer sciences university california berkeley. received university southern california best dissertation prize department electrical engineering. received m.tech madras award best academic performance department. research interests include intelligent transportation systems sustainable energy systems data driven optimization online learning stochastic control game theory. rene sanchez systems engineer sensys networks. received department mechanical engineering university california berkeley received university california diego graduated summa laude department mechanical aerospace engineering. in-depth research industry experience projects. areas expertise include control theory civil systems optimization data processing tool development system validation system integration algorithms. currently working wireless sensors applications transportation infrastructure focuses software application development advance data analytics smart cities. pravin varaiya professor graduate school department electrical engineering computer sciences university california berkeley. visiting professor institute advanced study hong kong university science technology since co-authored four books articles. current research devoted electric energy systems transportation networks. varaiya held guggenheim fellowship miller research professorship. received three honorary doctorates richard bellman control heritage award field medal bode lecture prize ieee control systems society outstanding researcher award ieee intelligent transportation systems society. fellow ieee fellow ifac member national academy engineering fellow american academy arts sciences.", "year": "2017"}
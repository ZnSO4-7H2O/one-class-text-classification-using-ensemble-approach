{"title": "Adaptive antenna system by ESP32-PICO-D4 and its application to web  radio system", "tag": "eess", "abstract": " Adaptive antenna technique has an important role in the IoT environment in order to establish reliable and stable wireless communication in high congestion situation. Even if knowing antenna characteristics in advance, electromagnetic wave propagation in the non-line-of-sight environment is very complex and unpredictable, therefore, the adjustment the antenna radiation for the optimum signal reception is important for the better wireless link. This article presents a simple but effective adaptive antenna system for Wi-Fi utilizing the function of a highly integrated component, ESP32-PICO-D4. This chip is a system-in-chip containing all components for Wi-Fi and Bluetooth application except for antenna. Together with SP3T RF switch and dielectric antennas and high-resolution audio DAC, completed web-radio system is made in the size of 50 x 50 mm. ", "text": "reliable stable wireless communication high congestion situation. even knowing antenna characteristics advance electromagnetic wave propagation non-line-of-sight environment complex unpredictable therefore adjustment antenna radiation optimum signal reception important better wireless link. article presents simple effective adaptive antenna system wi-fi utilizing function highly integrated component esp-pico-d. chip system-in-chip containing components wi-fi bluetooth application except antenna. together switch dielectric antennas high-resolution audio completed web-radio system made size radio adaptive antenna engineering material science electrical engineering computer science creative commons attribution-share alike license https//osf.io/rfd/ communication. solution issue adaptive beamforming. adaptive beamforming adaptive antenna techniques already long history effectiveness well confirmed nevertheless rarely adapted consumer product cost circuit complexity. transceiver wi-fi bluetooth package eventually powerful dual-core processor flash memory storage sram main memory peripherals integrated single package. main chip article esp-pico-d kind highly integrated chip. using chip transceiver implementation also fully programmable system easily realized. programmability chip. together switch dielectric antennas high-resolution audio completed web-radio system made size demonstrated article circuit select antenna maximum rssi given access point initial boot process move start radio system. radio system based sophisticated codes station preset selection made browser. series users world author could find type application combining switch literature. adaptive antenna system widely reported various articles two-chip configuration consisting system-on-chip switch simplest implementation. adaptive antenna novel technology rarely applied consumer product viewpoint cost. esp-pico-d recent chip moment submission simple prototyping board found market. circuit article costs even including audio quite competitive established commercial products. igure shows whole system block diagram. main processor esp-pico-d system-in-package component. esp-pico-d contains components required wi-fi bluetooth application except antenna package. programming environment well organized espressif manufacturer esp-pico-d released github table denotes summary esp-pico-d specifications. together part high-performance main processor able support complex applications. oled display pcma high-resolution audio antenna part. works programmer esp-pico-d also serial terminal. oled display connected esp-pico-d. oled display works data display internal data esp-pico-d. pcma audio connected esp-pico-d support -bit audio data sampling rate system pcma works streaming audio data decoder controlled esp-pico-d. antenna part cored skyworks skylf switch supports signal three outputs connected dielectric antennas impedance matching circuit. control signal terminal connected gpio esp-pico-d software antenna radiation beam switching. detailed design information evaluation results presented next section. dielectric antenna designed evaluated. fig. shows antenna switching part schematic including three antennas switch. three dielectric antennas johanson technology fig. illustrates solo antenna part layout characteristics evaluation. shown fig. contains dummy audio jack member antenna part. distance dielectric antenna element audio jack close enough impact radiation characteristics therefore performance antenna part optimized evaluated object. igure shows antenna testing board. general impedance matching circuit designed according layout written fig. inductance capacitance inserted terminal antenna element. inductance capacitance parameters determined measuring reflection coefficient using vector network analyzer lowest reflection band. igure shows measured reflection coefficient antenna prototype fig. different antenna selection switch. shown fig. dielectric antenna element relatively narrow bandwidth matching section. seen antenna performance antenna frequency shift even symmetric arrangement fig. shift attributed existence near-by dummy audio jack characteristic shift utilized wider frequency operation co-operated antenna antenna could fully optimized larger return loss exhibits around band. igure shows measured radiation pattern antenna element. patterns measured horizontal polarization changing explained inset. predicted structural symmetry deep null observed around antenna antenna case antenna complementary cover null radiation. antenna also covers antennas null radiation efficient adaptive radiation control expected switching three antennas depending communication condition. antenna part integrated whole system described next session. igure shows whole system layout size. antenna part previous section integrated esp-pico-d three switch control lines connected gpio esp-pico-d. control line also connected order indicate antenna selection state three colors. power supply board support power lipo battery operation operation selected onboard jumper explained inset. pcma connected lrck gpio bclk gpio data gpio esp-pico-d. audio output pcma connected stereo audio jack. oled display connected esp-pico-d gpio gpio series flexibility selection arrangement programmed software. caution lipo battery operation energy density lipo battery exceeds conventional nicd nimh battery therefore short circuit reverse connection extremely dangerous. addition wrong selection jumper board lead dangerous situation. board lipo charger disabled never connect lipo battery onboard battery connector. lipo battery connection charger disabled setting apply lipo battery beyond maximum rating battery quite dangerous. completed system article realizes web-radio starting web-radio application antenna selection process performed shown fig. author knows rssi established connection available current wi-fi esp-idf wi-fi scanning rssi ssid obtained api. therefore actual operation measure rssi given ssid block left side fig. performed following source code ssid ssid obtained scanning ssid predefined connected access point’s ssid. internally rssi access points obtained rssi need stored ant_rssi. sweeping number number antenna rssi antenna selection obtained best antenna connection link determined. best antenna selection web-radio program running esp-pico-d starts. original source code implementing web-radio written mrbuddycasino station presetting interface browser implemented nbass. author article made addition oled display support antenna switching finding best antenna communication link. full source code linked article. fabrication using autodesk eagle files required prototyping service company generated attached eagle files minimum separation pitch esp-pico-d’s package well margin service. xecuting make menuconfig correctly installed esp-idf environment provide configuration window shown fig. submenu radio bluetooth speaker ssid password access point configured. writing ssid/password simply exit configuration menu executing make; make flash flash firmware including functions interface extension implemented nbass fundamental part web-radio implemented mrbuddycasino. fully explained fig. presetting station selection done interface. interface also pushing on-board gpio switch change preset station sequentially. igures show actual example board operation. fig. show antenna switching operation rssi presented oled display scale antenna selection case. presented oled display rssi values measured given ssid corresponding wi-fi access point link status. switching antenna best antenna determined starting radio process. implementation nbass second line display shows current receiving radio station third line shows address board delivered dhcp. screen wide enough show full information nbass implementation realizes character scrolling leftward. full demo movie power music reception found https//youtu.be/tunzvipi fig. example actual antenna selecting process. figures showing rssi given access point defined ssid antenna number determines best antenna communication shows web-radio process starting. datasheet solomon systech https//cdn-shop.adafruit.com/datasheets/ssd.pdf pcma datasheet texas instruments http//www.ti.com/lit/ds/symlink/pcma.pdf sky-lf datasheet skyworks esp_mp_decoder mrbuddycasino https//github.com/mrbuddycasino/esp_mp_decoder esp_mp_decoder nbass https//github.com/nbass/esp_mp_decoder/tree/oled_web", "year": "2017"}
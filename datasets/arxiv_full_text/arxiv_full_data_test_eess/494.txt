{"title": "Drift-Free Indoor Navigation Using Simultaneous Localization and Mapping  of the Ambient Heterogeneous Magnetic Field", "tag": "eess", "abstract": " In the absence of external reference position information (e.g. GNSS) SLAM has proven to be an effective method for indoor navigation. The positioning drift can be reduced with regular loop-closures and global relaxation as the backend, thus achieving a good balance between exploration and exploitation. Although vision-based systems like laser scanners are typically deployed for SLAM, these sensors are heavy, energy inefficient, and expensive, making them unattractive for wearables or smartphone applications. However, the concept of SLAM can be extended to non-optical systems such as magnetometers. Instead of matching features such as walls and furniture using some variation of the ICP algorithm, the local magnetic field can be matched to provide loop-closure and global trajectory updates in a Gaussian Process (GP) SLAM framework. With a MEMS-based inertial measurement unit providing a continuous trajectory, and the matching of locally distinct magnetic field maps, experimental results in this paper show that a drift-free navigation solution in an indoor environment with millimetre-level accuracy can be achieved. The GP-SLAM approach presented can be formulated as a maximum a posteriori estimation problem and it can naturally perform loop-detection, feature-to-feature distance minimization, global trajectory optimization, and magnetic field map estimation simultaneously. Spatially continuous features (i.e. smooth magnetic field signatures) are used instead of discrete feature correspondences (e.g. point-to-point) as in conventional vision-based SLAM. These position updates from the ambient magnetic field also provide enough information for calibrating the accelerometer and gyroscope bias in-use. The only restriction for this method is the need for magnetic disturbances (which is typically not an issue indoors); however, no assumptions are required for the general motion of the sensor. ", "text": "absence external reference position information simultaneous localization mapping proven effective method indoor navigation. positioning drift reduced regular loop-closures global relaxation backend thus achieving good balance exploration exploitation. although vision-based systems like laser scanners typically deployed slam sensors heavy energy inefficient expensive making unattractive wearables smartphone applications. however concept slam extended non-optical systems magnetometers. instead matching features walls furniture using variation iterative closest point algorithm local magnetic field matched provide loop-closure global trajectory updates gaussian process slam framework. mems-based inertial measurement unit providing continuous trajectory matching locally distinct magnetic field maps experimental results paper show drift-free navigation solution indoor environment millimetre-level accuracy achieved. gp-slam approach presented formulated maximum posteriori estimation problem naturally perform loop-detection feature-to-feature distance minimization global trajectory optimization magnetic field estimation simultaneously. spatially continuous features used instead discrete feature correspondences conventional vision-based slam. position updates ambient magnetic field also provide enough information calibrating accelerometer bias gyroscope bias in-use. restriction method need magnetic disturbances however assumptions required general motion sensor often estimated using particle filter magnetic modelled separately method presented paper combines pose estimation magnetic modelling gaussian process regression framework. compared popular lidar-based slam workflows higher computation load advantage many steps integrated single least-squares adjustment allow tuning parameters adapt dataset automatically. example manually tuned parameters neighbourhood size surface modelling trained data. modern imus perform strap-down integration high frequency report odometry information change rotation change velocity lower user-desired rate. given initial conditions orientation velocity position computed efficiently using equation compensate biases accelerometers gyroscopes random walk model adopted note strap-down integration period gravity vector rotation matrix superscripts represent local frame sensor frame respectively. vr/ar market predicted worth billion important technical challenge indoor position orientation tracking. shopping mall classroom volume large cost effective deployment cameras benefit passive position tracking. furthermore head-tracking ar/vr harsh environments confined spaces difficult maintain camera field view restricted requires alternate sensors. mems inertial measurement units getting smaller cheaper ubiquitous. example found smartphones drones wearables days. although provide position information usually limited orientation tracking. reason small inertial errors result large positional errors integration process. another viewing position updates informative improving inertial solution. commonly position provided external sensors gnss cameras sonar lasers. rf-based systems provide absolute position updates typically require additional infrastructure available indoors. optical systems provide relative position updates flexible require direct line-of-sight means sensor cannot placed inside pockets bags. relative position updates magnetometers provide viable solution problems. though valid assumption recent research shown magnetic fields three directional components actually correlated. based maxwell’s equation magnetic field split field field; field needs divergence-free field needs curl-free curl-free divergence-free kernels given equation instead treating magnetic fields three independent smooth surfaces physical correlation included provide accurate model local magnetic translates accurate trajectory estimate. gp-slam hyper-parameters characterize ambient magnetic field estimated using data rather tuned manually. valuable understand impacts different magnetic fields slam solution simulation better understand requirements proposed methodology. simulations below sensor assumed exhibiting translational motion only plane magnetic field measured every odometry noise bias directions unless otherwise stated. effects varying parameter describes amplitude magnetic signal. instance expected small magnetic field homogeneous large near ferromagnetic materials also interpreted noise gaussian process constraint higher value lower weight spatial correlation least-squares adjustment vice versa. different cases shown gp-slam performed hyper-parameters fixed true value. figure table observed variation ambient field must sufficiently large relative sensor noise beyond certain threshold magnetic disturbances improve accuracy slam solution. ambient magnetic field strength easily constructed using spatial interpolation techniques trajectory sensor known however absolute position information typically expensive difficult obtain. common relative position information indoor navigation. ssuming calibrated tri-axial magnetometer time synchronized available relationship observed magnetic field vector sensor frame magnetic field mapping frame expressed using equation represents location magnetic field sampled measurement noise assumed follow gaussian distribution. worth mentioning small inertial errors accumulate time resulting significant drifts navigation solution. ypically machine learning textbooks solution derived following bayesian inference principles beginning bayes’ rule marginal likelihood integrated unknown parameters. best estimate unknowns determined maximizing equation lthough computational complexity memory requirement efficient formulation objective predict magnetic field strength location given training magnetic measurements known locations. case tightlycoupled magnetometer slam solution beneficial follow frequentist’s interpretation probability prior multiplied likelihood maximized maximum posteriori estimate trajectory magnetic field map. note residuals covariance matrix measurements unknowns ambient magnetic fields assumed realizations gaussian random process prior given covariance matrix typically chosen squared exponential kernel enforces simple smoothness local magnetic field. effects varying length parameter determines radius magnetic field samples spatially correlated. large would indicate even points would impact query point. small usually occurs local magnetic field varying rapidly; therefore nearby points useful predicting magnetic field signal target location. different cases simulated parameter fixed true values smaller means smaller convergence region gp-slam yield accurate results larger furthermore better initial trajectory needed ensure convergence global minimum. larger represent homogeneous magnetic field; therefore accuracy gpslam solution compromised lack uniqueness magnetic signature. figure estimated trajectory using gp-slam different true cyan dash line shows odometry solution blue solid line indicates gp-slam solution triangles ground truth. effects wrong estimating wrong length parameter comparable setting wrong neighbourhood search size. case magnetic field simulated using trial fixed different value effects global slam solution reported figure table figure estimated trajectory using gp-slam different true cyan dash line shows odometry solution blue solid line indicates gp-slam solution triangles ground truth. effects wrong quality estimated hyper-parameters direct impact overall gp-slam solution. simulation true gp-slam fixed four different values shown below. appears results better overestimate rather underestimating; likely better conservative place less weight magnetic field position updates rather over-trusting magnetic field. figure estimated trajectory using gp-slam wrong cyan dash line shows odometry solution blue solid line indicates gp-slam solution triangles ground truth. first test placed typical office desk computer smartphone within vicinity. moved along rectangular trajectory four times complete overlap loop. even looking magnitude magnetic measurements possible similarities four loops trivial example possible perform loop-closure detection using auto-correlation since variation magnetic field high a.u. obtain sensible initial trajectory weak zero position update applied constrain position within metre radius sphere. trajectory gp-slam shown figure horizontal vertical accuracies improved centimetre-level millimetre-level iterations. high number iterations undesirable trait gp-slam lagrangian cost reduction quite slow every iteration mall errors significant impact slam solution. gp-slam appear hypersensitive neighbourhood radius better underestimate overestimate; likely better ignore valuable information nearby points rather allow spatially larger neighbourhood influence query point. effects varying odometry noise like targetless optical slam solutions gp-slam sensitive initial pose. initial trajectory significantly different true trajectory gp-slam tends converge local minimum uses nonlinear least-squares formulation. unlike frame-based optical slam methods though magnetometer reading represents measurement single point insufficient estimate position orientation. hence odometry information link temporally close measurements. shown table smaller odometry noise means larger convergence region although small odometry noise always beneficial beyond certain threshold precise odometry seem improve solution significantly. third experiment performed special aluminum table free ferromagnetic materials. addition magnetic objects placed within metre table. moved square pattern multiple times. studying magnitude magnetic measurements field appears fairly homogeneous. however examining signal detail range a.u. maximum minimum magnetic reading perceived. magnetic disturbance poses challenging situation gpslam. test cases matter squared exponential kernel curl-free divergence-free kernels applied differences trajectories insignificant. however near-homogeneous field noticeable impact chosen kernel perceived. figure shows gp-slam solution using different kernels. scenario neither kernel able reconstruct perfect squareshaped trajectory. squared exponential kernel resulted higher maximum error preserved orthogonality edges curl-free divergence-free kernel closed loops properly deformed overall geometry trajectory arbitrary quadrilateral. latter solution might preferred combined optical slam solutions consistent internally figure recovered square trajectory near homogeneous magnetic field using gp-slam. using squared exponential kernel curl-free divergencefree kernel. final indoor experiment took place typical wooden office desk. mti- treated like moved along surface writing word xsens. gpslam handwritten characters became legible even though active beacons introduced. second experiment moved around spiral pattern similar simulated trajectory. test highlights strengths gp-slam unnecessity perfect overlap pass area. unlike first experiment studying magnetic signal alone difficult perform loop-closure detection threshold auto-correlation need possibility revisiting position different direction need handled logic estimated trajectory using magnetic field perform gp-slam provided figure adjustment took iterations converge rmse trajectory reduced centimetre-level millimetre-level. main factors contributed difference trajectory recovered accelerometer gyroscope biases tightly-coupled mems imu. orientation velocity position sensor biases hyper-parameters magnetic field estimated simultaneously performing continuous loop-detection loop-closure batch leastsquares adjustment. different experiments shown magnetic field slam framework improve overall trajectory without making solution significantly worse. although effect overall trajectory applied typical outdoor environments argued satellite signals available outdoors magnetometer used heading updates instead. uture work focus improving efficiency gpslam sparse kernel approximations order scale larger problems. current solution assumes magnetic field changing; make applicable consumer applications static magnetic assumption lifted. research funded tracking complex sensor systems eu’s seventh framework programme natural science engineering research council canada. valuable discussions jeroen henk luinge gratefully acknowledged. ferris lawrence wifi-slam using gaussian process latent variable models. international joint conference artificial intelligence. hyderabad india. jung myung pose-sequence-based graph optimization using indoor magnetic field measurements. robot intelligence technology applications advances intelligent systems computing springer cham. rasmussen williams gaussian processes machine learning. cambridge united states press. solin wahlstrom schön särkkä modeling interpolation ambient magnetic field gaussian process. arxiv preprint arxiv.. vallivaara haverinen kemppainen röning magnetic field-based slam method solving localization problem mobile robot floor-cleaning task. international conference advanced robotics. tallinn estonia. wahlström schön gustafsson modeling magnetic fields using gaussian processes. international conference acoustics speech signal processing. vancouver canada. zhang shen wifi magnetic fingerprint positioning algorithm based kda-knn. chinese control decision conference. yinchuan china. outdoor environments real homogeneous magnetic field environment gp-slam favourable property making initial solution worse. demonstrate this aluminium table moved outdoors open field moved along rectangular track several times. case hyperparameter approaches large number rapidly approaches zero adjustment converges. mathematically seen equation approaches infinity covariances approach effectively disabling spatial correlations automatically. conventional loop-closures slam wrong association devastating effect entire solution strong assumption made global relaxation step. gp-slam assumption made much weaker therefore smaller impact solution assumptions violated; i.e. robust.", "year": "2018"}
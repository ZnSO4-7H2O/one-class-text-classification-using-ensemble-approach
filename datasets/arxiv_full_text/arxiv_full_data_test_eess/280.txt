{"title": "Mosaicked multispectral image compression based on inter- and intra-band  correlation", "tag": "eess", "abstract": " Multispectral imaging has been utilized in many fields, but the cost of capturing and storing image data is still high. Single-sensor cameras with multispectral filter arrays can reduce the cost of capturing images at the expense of slightly lower image quality. When multispectral filter arrays are used, conventional multispectral image compression methods can be applied after interpolation, but the compressed image data after interpolation has some redundancy because the interpolated data are computed from the captured raw data. In this paper, we propose an efficient image compression method for single-sensor multispectral cameras. The proposed method encodes the captured multispectral data before interpolation. We also propose a new spectral transform method for the compression of mosaicked multispectral images. This transform is designed by considering the filter arrangement and the spectral sensitivities of a multispectral filter array. The experimental results show that the proposed method achieves a higher peak signal-to-noise ratio at higher bit rates than a conventional compression method that encodes a multispectral image after interpolation, e.g., 3-dB gain over conventional compression when coding at rates of over 0.1 bit/pixel/bands. ", "text": "abstract—multispectral imaging utilized many ﬁelds cost capturing storing image data still high. single-sensor cameras multispectral ﬁlter arrays reduce cost capturing images expense slightly lower image quality. multispectral ﬁlter arrays used conventional multispectral image compression methods applied interpolation compressed image data interpolation redundancy interpolated data computed captured data. paper propose efﬁcient image compression method singlesensor multispectral cameras. proposed method encodes captured multispectral data interpolation. also propose spectral transform method compression mosaicked multispectral images. transform designed considering ﬁlter arrangement spectral sensitivities multispectral ﬁlter array. experimental results show proposed method achieves higher peak signal-to-noise ratio higher rates conventional compression method encodes multispectral image interpolation e.g. gain conventional compression coding rates bit/pixel/bands. images becoming increasingly important large number applications remote sensing medical imaging digital archiving. msis images pixel multiple channels carry information spectral content. multiband sensors three channels used remote sensing applications many years. recently several studies reported interest msis visible range spectrum order improve color reproduction practical spectrum-based imaging system crucial increase number bands image input device. various devices proposed acquisition msis monochrome camera rotating ﬁlter wheel grating-prism liquid-crystal tunable ﬁlter devices certain limitations complexity assembling prisms multiple sensor arrays detect signals. achieve efﬁcient solution multispectral imaging multispectral ﬁlter arrays studied inspired application color ﬁlter arrays commercial digital cameras. studies focused ﬁlter array design interpolation methods msfas compression mosaicked msis another major challenge practical use. first consider compression mosaicked image based cfa. context widely used compression methods jpeg jpeg applied demosaicked images. fig. shows overall diagram imaging system call encoding interpolation paper. chain compression employed encode fullresolution image interpolation. alternative imaging system shown fig. called encoding interpolation also proposed chain mosaicked image encoded directly demosaicking employed decompression. potential achieve signiﬁcant compression gains approach encodes amount data encoded eai. concept encoding mosaicked image interpolation applied irrespective number bands. assuming number bands approach encodes amount data encoded compression method studied thus far. jpeg part dspiht others support compression msis treating volume data compression methods considered mosaicked image obtained approach. compression methods mosaicked image cannot applied directly mosaicked number arrangement color ﬁlters different msfa. moreover choice optical sensitivity color ﬁlter varies depending application. thus reducing redundancy mosaicked based arrangement optical sensitivity given msfa important issue ebi. propose coding method considers redundancy mosaicked msi. ﬁrst step proposed method generates sub-image mosaicked gathering pixels band increase intraband correlation. rearranging pixels mosaicked sub-images generate pseudo-msi. then spectral redundancy pseudo-msi reduced onedimensional spectral transform corresponds multi-component transform jpeg. finally transformed image encoded using jpeg. proposed spectral transform important. inter-band correlation pseudo-msi constant along band index depends pattern optical sensitivity msfa. redundancy inter-band correlation cannot efﬁciently reduced simple differential pulse code modulation discrete wavelet transform instead ﬁrst propose karhunen-loeve transform spectral transform along band index. different computed image sent transform matrix jpeg. method proposed full msis efﬁciently reduced redundancy therefore believed perform efﬁciently pseudo-msis full msis. alternative data-dependent propose ﬁxed transform spectral transform based msfa information. calculation cost covariance matrix negligible single-shot camera equipped msfa. proposed ﬁxed transform matrix generated using arrangement pattern center wavelengths msfa ﬁlters. thus msfa generated certain camera transform matrix re-calculated captured image. ﬁxed transform achieves compression efﬁciency lower computation cost particularly applicable fast lowcost msfa-based cameras. contributions study. first analyze performance advantages thus studied detail. second propose spectral transforms reduce redundancy mosaicked msi. previous work proposed base algorithm validity ﬁxed transform veriﬁed. study assumed correlation coefﬁcients ﬁxed transform compared generated real image order validate ﬁxed transform. further examine coding performance various situations using natural images also vegetation image order show robustness proposed method. ventional compression methods introduced section then compression method mosaicked images introduced section iii. proposed compression method presented section results given section section compare coding performance using different parameters vegetation image. section conclude paper. msis different sets bands depending speciﬁc application reduction redundancy along optical spectral direction important factor compression. applications spectral intervals constant shown fig. inter-band correlations different cases rgb. several techniques proposed literature exploit spectral correlation characteristic data. early publications applied reduce redundancy across bands. used spectral transform following two-dimensional wavelet transform used spatial compression scheme. separation three-dimensional wavelet transform spectral spatial domains examined kaarna parkkinen remote sensing coding methods spectral spatial transforms applied state-of-the-art compression method part jpeg makes provisions arbitrary msi. pixel structure almost equivalent except number components; therefore baseline algorithm using embedded block coding optimized truncation applied specifying instead ycbcr. particular applying leads considerably better rate distortion performance applying transforms dwts therefore coding approaches based spectral transform spatial transform popular choices coding performance compatibility jpeg. inter-band correlation also considered case compression mosaicked msi. mosaicked image spectral redundancy exists neighboring pixels plane. thus intra-band correlation also inter-band correlation considered reducing redundancy neighboring pixels. however thus concrete method reduce redundancy mosaicked studied. separating spectral spatial transforms considering inter-band correlation would lead better performance many applications. moreover separating transforms help maintain compatibility jpeg. simple lossy compression methods developed considering mosaicked image grayscale image compression techniques applied directly mosaicked images ignoring pixel color labels however method often leads poor compression performance artiﬁcial discontinuities interlaced color components. general color transform mosaicked structure conversion used prior image compression order achieve better performance shown fig. structure conversion step transforms mosaicked pixels corresponding color ﬁlters structure appropriate image coding. process creates sub-images contain natural edges mosaicked image. color transform decorrelate color components used removing artiﬁcial discontinuities mosaicked images. above-mentioned methods ﬁrst luminance values chrominance values. resulting chrominance values reside rectangular lattice size four times smaller size luminance values populate quincunx lattice half size cfa. chrominance plane compressed using standard techniques converting rectangular lattice whereas luminance plane cannot directly compressed standard techniques consists quincunx lattice. malvar separate luminance signal even indices then subimages compressed using standard techniques jpeg jpeg-xr. transform luminance signal rectangular lattice shift rotation. studies suggest structure conversion efﬁcient approach mosaicked image converted image contains natural edges mosaicked image. intra-band coding using standard compression techniques performed efﬁciently converted image. structure conversion also considered efﬁcient approach case msi. conventional approach cannot directly applied case ﬁlter pattern different concept merging band pixels sub-image exploited improve compression efﬁciency. performance difference previous works also notable point extending case. deﬁnitely reduce data size lossless compression compared information mosaicked image completely included demosaicked image hand shown lossy compression performance always superior leading performance trade total error original image decoded full-resolution image includes demosaicking compression error. general outperforms higher rates mosaicked images compressed fewer pixels. outperforms lower rates full-resolution images larger intra-band inter-band correlations corresponding mosaicked images. although used widely recent imaging systems studies show superior higher rates. case almost trend seen case veriﬁcation models previous works consistent case except number bands. however performance change veriﬁed various experimental conditions. techniques cannot applied directly algorithms speciﬁc bayer cfa. channel mosaicked image encoded differently channels sample density different channel. contrast msfas bands different patterns cfas. existing msfa-based camera certain msfa pattern many possible msfa conﬁgurations depending future application. ebis require ﬂexibility able reduce redundancy mosaicked pixels given msfa irrespective number bands patterns. further optical wavelength intervals msfa considered wavelength intervals ﬁlters same. many ebis calculate similar conversion possible msi. subtraction bands sufﬁcient reduce spectral redundancy. propose efﬁcient transform reducing redundancy based spectral spatial correlation coefﬁcients. section propose simple method direct coding used ﬁrst then compression methods namely ﬁxed transform proposed. fig. shows overview coding wherein jpeg. direct coding simple compression method directly encodes image using jpeg shown fig. ﬁxed transform follow shown fig. main difference respect direct coding introduction structure conversion spectral transform parts reducing spectral redundancy then jpeg part coding. mosaicked msis regarded grayscale images whose pixels correspond band. therefore mosaicked image encoded directly using jpeg. call approach direct coding paper. direct coding often leads poor compression performance discontinuities mosaicking further comparing mosaicked images obtained cases observed discontinuities slightly different wavelength intervals bands different. evaluate performance direct coding next section. efﬁcient approach mosaicked image series smaller images. pixels corresponding given band placed image plane; thus remapping pseudo-msi smaller planes containing samples spectral component. generated pseudo-msi encoded jpeg mct. following paragraphs structure conversion methods spectral transforms suitable mosaicked proposed assuming jpeg. proposed consists three parts structure conversion -band pseudo-msi formed -resolution planes mosaicked image spectral transform spectral transform used across spectral bands -band order exploit redundancy coding conventional coding scheme jpeg applied spatially band processed spectral transform. indicates shorter wavelength. note label distinguish ﬁlters denotes captured signal block-based position band mentioned before mosaicked image fig. encoded grayscale image image channel pixel. however neighboring pixels fig. correspond different bands pixels captured band fig. located away other. order improve coding performance pixels corresponding band placed image plane. structure conversion process yields images containing pixels original mosaicked image. structure conversion process -band msfa shown fig. images arranged ascending order typical msis exists signiﬁcant correlation across bands often exploited using spectral transform spatial coding. however original image mosaicked msfa imaging system information band spatial location fig. thus although image fig. seems like normal ﬁrst glance pixels spatial position located position fig. correlation across bands compared true zero. spectral transform proposed system aims exploit redundancy across bands fig. taking account effect mosaicking. assume high-frequency information spectral direction true msi. therefore would appropriate method exploiting redundancy adapt speciﬁc correlation signals. deﬁne converted signal paper assumed constant values given advance. assuming signal ﬁrst-order markov process correlation coefﬁcient widely used ﬁeld image processing. case captured object limited medical applications another effective obtain properly capture target objects using multispectral camera advance then compute captured image. similarly obtained real data advance difﬁcult spectrometer multi-shot multispectral camera required measuring real spectral data. according examination correlation coefﬁcients real spectral reﬂectance expressed ﬁrst-order markov model approximately equal nanometer values assumed respectively difﬁcult obtain real correlation coefﬁcients; values paper. details values provided section actual correlation coefﬁcient structure conversion calculated captured pixels calculation cost negligible mentioned before. goal ﬁxed transform obtain correlation matrix converted image using information msfa. here consider relation band band example. sampled sampled spatial distance pixel fig. different optical sensitivity values shown fig. distance center wavelengths spatial correlation coefﬁcient assumed ρdmn basis ﬁrst-order markov model applies spectral correlation. correlation coefﬁcient shown fig. correlation coefﬁcients combinations also obtained using procedure. finally ﬁxed transform matrix calculated correlation coefﬁcients. thus ﬁxed transform matrix obtained arrangement pattern optical sensitivity msfa given advance. general case deﬁne correlation matrix calculated spectral correlation matrix spatial correlation matrix first derive denote center wavelengths -band ﬁlters difference wavelengths spectral correlation matrix deﬁned follows fig. example correlation coefﬁcients spectral spatial directions msfa. spatial correlation msfa spectral correlation msfa correlation coefﬁcients converted mosaicked msi. calculated using singular value decomposition matrix eigenvectors correlation matrix eigenvectors lined row-by-row transformed coefﬁcient calculated follows based captured data would appropriate method exploiting redundancy adapt speciﬁc correlation signals. however transform matrix would need updated basis input data costly. alternatively questionable whether training dataset would reliable speciﬁc spatial correlation images play signiﬁcant role transform. instead discussed section iv-b propose ﬁxed transform design models spectral spatial correlation based simple assumptions. expect robust solution require retraining speciﬁc content. note structure conversion coding parts processes discussed section iv-b. optical spectral sensitivity color ﬁlter front sensor; fig. captured mosaicked image converted one. here denotes euclidean distance ﬁlters msfa represents difference center wavelengths refers spatial correlation coefﬁcient pixel ﬁlter band mosaicked image obtained masking captured msfa simulation. words certain pixel mosaicked image generated choosing certain band pixel position captured msi. msfa patterns used experiment shown fig. obtained mosaicked image demosaicked brauers’ method ﬁxed transform attributed hypothesis markov process states correlation coefﬁcients mosaicked pixels modeled msfa pattern. verifying appropriateness assumed model compare correlation coefﬁcients obtained using calculated real msi. fig. shows bands fig. calculating real correlation coefﬁcients. images captured full-resolution camera equipped -band ﬁlters shown fig. fig. shows real correlation coefﬁcients calculated fig. shows proposed correlation model calculated from. here respectively. shown fig. distribution proposed correlation coefﬁcients almost identical real coefﬁcients. mean square error correlation distributions. perspective objective evaluation assumed correlation coefﬁcients ﬁxed transform consistent real correlation coefﬁcients. section compare compression performance using test images shown fig. assign band number captured image ascending order wavelength fig. bands. then examine compression performance changing simulation conditions order conﬁrm robustness proposed method. performance comparison three msfa patterns shown section v-b. section shows performance difference changing number bands. finally compare different calculation methods psnr section v-d. fig. shows comparison psnr rate three test images. means chosen using samples image means chosen using ﬁxed transform matrix described first note outperforms almost rates fig. graph shows contribute greatly data reduction msi. although better lower rates difference large cases. trend similar observed bayer image compression. differ number wavelet coefﬁcients encoded distribution coefﬁcient energy different frequencies. thus high rates wavelet coefﬁcients reﬁned disadvantage encode times coefﬁcients ebi. conversely rates behavior dominated distribution wavelet coefﬁcients already declared signiﬁcant. rates performs better lower frequencies spectral spatial domain thus amount signal energy compacted smaller number coefﬁcients ebi. comparing fig. comparable outperforms implies select ﬁxed transform matrix multispectral camera manufacturing phase minimal loss psnr. fig. shows slightly larger difference fig. fig. psnr difference ﬁxed transform depend correlation coefﬁcients contents spectral distribution image structure. fig. shows decoded demosaicked scarf images bpppb. fig. shows demosaicked image without compression referred original image. fig. shows image decoded eai; blurring effect seen demosaicking compression. figs. obtained similar qualities show superior image fig. fig. clear advantage terms higher rates irrespective number bands. increase number bands number encoded pixels increases case whereas number remains unchanged case ebi. conversion based order center wavelength. conﬁrm this coding gains ﬁxed transform matrix msfa shown table coding gain calculated using eigenvalues corresponding follows denotes eigenvalue corresponding represents determinant coding gain raster pattern shows highest value neighboring ﬁlters spectrum wellconnected spatial position. although dither pattern advantages terms demosaicking quality coding gain lowest. perspective crosstalk neighboring ﬁlters spectrum arranged distant order improve demosaicked quality. however perspective compression arranged close order improve coding gain. relation reconstruction compression performances trade-off. high degree freedom selecting arrangement msfa within manufacturing process ﬁlters neighbors spectrum arranged close order improve compression performance. psnr metrics shown figs. first reference original full-resolution image obtained msfa call comparison original-psnr means psnr calculated original full-resolution image. opsnr calculated simulated system shown fig. cannot calculated real system original fullresolution image available. alternative reference demosaicked image obtained original pixels call comparison demosaicked-psnr i.e. psnr calculated demosaicked full-resolution image. although true image dpsnr includes distortion downsampling demosaicking demosaicked image obtained using either simulated system real multispectral single-sensor camera. previous studies used dpsnr whereas mainly used opsnr. study mainly used dpsnr validation opsnr also considered important multispectral case. fig. shows opsnr different numbers bands. psnr become arbitrarily large rate increases includes error original demosaicked image. demosaicked image quality fig. observe psnr smaller almost result mentioned lian difﬁcult identify cause performance difference opsnr related compression interpolation also msfa. lian studied theoretical model compared using simulation. results show outperforms higher rates underperforms lower rates. note cannot conclude whether opsnr dpsnr better evaluation comparing ebi. opsnr calculated computational simulation opsnr cannot calculated real msfa-based system original full-resolution image exist. ﬁnity error mosaicking-to-demosaicking process. limitation affect performance higher rates. although results opsnr improved modifying msfa demosaicking work outside scope paper. paper focuses compression methods mosaicked msi; hence dpsnr used mainly metric performance ebi. since opsnr performance proposed method cannot improved unless consider relation msfa demosaicking compression opsnr evaluation experimental conditions omitted. section discuss ﬁrst-order correlation coefﬁcients proposed ﬁxed transform. practical multispectral cameras various applications assumed used future. original images obtained producing msfa adjusted appropriate values. effective approach instead correlation coefﬁcients ofﬂine matrix generated using original images. however difﬁcult obtain original images producing msfa many cases. therefore specifying without original images important challenge. although value referred section iv-c critical inconsistency observed veriﬁcation. therefore proposed ﬁxed transform potential work efﬁciently even case using slightly different ﬁrst-order correlation coefﬁcient. show validation ﬁxed transform using different different ﬁrst-order correlation coefﬁcients section. image shown fig. image captured hyperspectral camera equipped ﬁlters. wavelength range ﬁlters wavelength resolution choose bands rice ﬁeld following experiments shown fig. wavelengths selected based vegetation analysis camerato-subject distance dozen meters fig. table shows real ﬁrst-order correlation coefﬁcients. corresponds ﬁrst-order correlation coefﬁcient band indices spectral domain corresponds average ﬁrst-order correlation coefﬁcients nanometer spectral domain. fig. shows rate-distortion performance vegetation image. here means ﬁrst-order correlation coefﬁcient ﬁxed transform matrix real correlation coefﬁcients rice ﬁeld ﬁrst-order correlation coefﬁcient toys. note uses calculated toys calculated basis wavelength interval fig. fig. outperforms almost psnr moreover almost psnr even though different values used. calculation proposed method considers also wavelength intervals spatial patterns msfa. performance proposed method improved adjusting degrade signiﬁcantly even adjusted. advantage proposed method able determine correlation coefﬁcients ρfmn using obtained msfa. msfa given proposed method generate effective spectral transform without capturing object. presented compression method mosaicked images obtained using one-shot multispectral camera. encoding mosaicked image interpolation shows higher psnr encoding full-resolution image interpolation almost rates. proposed method using transform matrix derived msfa speciﬁcations achieves comparable psnr klt; thus possible coding parameters ﬁxed without image information expense psnr. encoding performance depends number bands setting parameters proposed method useful msfa-based imaging systems. denotes pixel value band spatial index converted image signal represents average value band indicates number pixels band. corresponds average ﬁrst-order auto-correlation coefﬁcients spatial blanes serra-sagrista cost scalability improvements karhunen-loeve transform remote-sensing image coding ieee trans. geosci. remote sens. vol. july shinoda murakami yamaguchi ohyama lossless lossy coding multispectral image based srgb standard residual components electron. imaging vol. apr. garcia-vilchez serra-sagrist extending ccsds recommendation image data compression remote sensing scenarios ieee trans. geosci. remote sens. vol. oct. murakami yamaguchi ohyama piecewise wiener estimation reconstruction spectral reﬂectance image multipoint spectral measurements appl. opt. vol. hirakawa wolfe spatio-spectral color ﬁlter array design enhanced jmage ﬁdelity proc. ieee international conference image processing vol. ii-–ii- sept. monno kitao tanaka okutomi optimal spectral sensitivity functions single-camera one-shot multispectral imaging system proc. ieee international conference image processing sep. ortega novel approach image compression digital cameras bayer color ﬁlter array proc. ieee international conference image processing vol. oct. wang zhang novel method lossy image compression digital image sensors bayer color ﬁlter arrays prof. ieee international symposium circuits system vol. lian chang zagorodnov reversing demosaicking compression color ﬁlter array image processing performance analysis modeling ieee trans. image process. vol. nov. malvar sullivan progressive-to-lossless compression color-ﬁlter-array images using macropixel spectral-spatial transformation proc. data compression conference apr. itu-t rec. t.-iso/iec jtc/sc/wg information technology jpeg image coding system part extensions christophe pearlman three-dimensional spiht coding volume images random access resolution scalability eurasip image video processing vol. article", "year": "2018"}
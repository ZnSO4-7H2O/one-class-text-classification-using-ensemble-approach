{"title": "Generating virtual scenarios of multivariate financial data for  quantitative trading applications", "tag": "eess", "abstract": " In this paper, we present a novel approach to the generation of virtual scenarios of multivariate financial data of arbitrary length and composition of assets. With this approach, decades of realistic time-synchronized data can be simulated for a large number of assets, producing diverse scenarios to test and improve quantitative investment strategies. Our approach is based on the analysis and synthesis of the time-dependent individual and joint characteristics of real financial time series, using stochastic sequences of market trends to draw multivariate returns from time-dependent probability functions preserving both distributional properties of asset returns and time-dependent correlation among time series. Moreover, new time-synchronized assets can be arbitrarily generated through a PCA-based procedure to obtain any number of assets in the final virtual scenario. For the validation of such simulated data, they are tested with an extensive set of measurements showing a significant degree of agreement with the reference performance of real financial series, better than that obtained with other classical and state-of-the-art approaches. ", "text": "audiasresearchgroupescuela politécnicasuperioruniversidad autónomademadridmadridspain etsassetmanagementfactorypozuelo dealarcónmadridspain correspondence javierfranco-pedrosodespachoc- escuelapolitécnicasuperioruniversidad autónomademadridmadridspain email javier.francouam.es fundinginformation etsassetmanagementfactoryproject name tecnologíasdetratamientodeseñal paramercadosﬁnancieros paper present novel approach generation virtualscenariosofmultivariateﬁnancialdataofarbitrarylength andcompositionofassets. withthisapproachdecadesofrealistic time-synchronizeddatacanbesimulatedforalargenumberofassetsproducingdiversescenariostotestandimprovequantitative investmentstrategies. ourapproachisbasedontheanalysisand synthesisofthetime-dependentindividualandjointcharacteristics ofrealﬁnancialtimeseriesusingstochasticsequencesofmarket trends draw multivariate returns time-dependent probabilityfunctionspreservingbothdistributionalpropertiesofasset returnsandtime-dependentcorrelationamongtimeseries. moreover time-synchronized assets arbitrarily generated throughapca-basedproceduretoobtainanynumberofassetsin theﬁnalvirtualscenario. forthevalidationofsuchsimulateddata theyaretestedwithanextensivesetofmeasurementsshowinga signiﬁcantdegreeofagreementwiththereferenceperformanceof realﬁnancialseriesbetterthanthatobtainedwithotherclassical andstate-of-the-artapproaches. quantitativeanalysisandalgorithm-basedinvestmentnowadayshavearelevantpresenceinstockmarketswherea highpercentageoftradeordersarecurrentlydrivenbycomputationalﬁnance. thosesystemsexploittheinefﬁciencies orinaccuraciesofthemarketthroughtheanalysisofpreviousdataandreal-timepredictionsoverrunningmarkets detectingandtakingadvantageoftime-and-assetlocalizedopportunitiesormanagingriskinuncertainscenariosby dynamicallyadaptingportfolioweights. obviouslythereisjustonesinglehistoricalrecordofﬁnancialdataforagivenmarket. thisrecordistheunique dataresourceavailabletodevelop optimizeandtestthosealgorithmicinvestmentstrategies. onceaninvestment strategyhasbeendevelopedandtestedweknowitsperformanceonsomespeciﬁcperiodofthehistoricalrecordbut thereisnowaytoknowhowthealgorithmicstrategywouldperforminanunseenscenariodifferentfromwhathas happenedinrealmarketsbefore. itwouldthenbedesirabletohaveaprocedurethatgeneratesnewhypotheticalbut plausiblerealizationsofﬁnancialtimeseriesinordertotesttherobustnessandperformanceofcurrentquantitative investmentstrategiesortodevelopandoptimizenewones. moreoverthisshouldbedonenotonlyforisolatedassets astheyarenotindependentofeachotherbutforsetsofassetsfollowinga multivariateapproach. theaimofthisworkistodevelopatechniquethatallowstosimulatevirtualscenariosofgiven ﬁnancialmarketsinvolvinghundredsorthousandsofassetsfortimeperiodsofarbitrarylengththatcouldbeusedfor theaforementionedpurposes. inordertotestanymethodthatattemptstosimulatethebehaviorofrealassetssomepropertiesofrealﬁnancial time series needed deﬁned ﬁrst checked artiﬁcial ones. unique cleardeﬁnitionofhowarealﬁnancialtimeseriesshouldbewecanobserveasetof... constraintsthatastochastic process hasto verify orderto reproducethe statistical propertiesof returns accurately... returns distributionsshowheavytailshigh-volatilityeventstendtoclusterintimeandpricemovementsdonotshowsigniﬁcant autocorrelationamongothers. thusweﬁrstlyintroduceinsectionthesetofmetricsusedthatattempttocapture thepropertiesofﬁnancialtimeseriesandmarkets. theobjectiveofthosemetricsisnottovalidateanymodelbutto validatetheartiﬁcialseriesproducedaccordingtothosesanity-checkconstraintswhateveritsgenerationprocess. theresultsofthesemeasurementswillbereportedforourbenchmarkdatasetconsistingofa-yearperiodofdaily stockreturnsinordertocomparewiththesimulatedscenariosobtainedwithdifferentmethods. many models attempt describe evolution asset prices returns proposed mostsimplegeometricbrownianmotionandothervariantsofstochasticdifferentialequationstothe autoregressiveconditionalheteroskedasticityfamily)orthestochasticvolatilitymodels )thattakeintoaccountthetime-varyingvolatility. howevernoneofthesemodelshasbeendesigned forgeneratingvirtualscenariosforhigh-dimensionalmultivariateﬁnancialdatasetsfailingeithertoreproducesome speciﬁcfeaturesofﬁnancialtimeseriesorbeingcomputationallyinfeasible. insectionwewillgiveabriefoverviewof someofthemodelsthatcanbeusedforsimulatingassetreturnsthatcanbefoundinpubliclyavailabletoolboxesand someoftheirweaknesseswillbehighlightedbasedonthesetofanalysispreviouslydescribedinsection. generation simulated data comply speciﬁed requirements propose synthesis-byanalysisapproachdescribedinsectionthatallowstoproducenever-seen-beforevirtualscenariosofagivenmarket aslongasdesired). thismethodisbasedonsegmentingthegivendatasetindifferenttimeperiodsdeﬁned bythemarkettrendsfromwhichtime-dependentstatisticsofthemultivariatereturndistributionsarelearned. then stochasticsequencesaslongasdesiredofalternatingtrendsaresynthesizedbydrawingmultivariatereturnsfrom probabilitydensityfunctionswithsuchtime-dependentparameters. inthiswaybothdistributionalpropertiesofasset returnsandtime-dependentcorrelationamongtimeseriesareproperlyreproducedtoagreatextent. furthermoreforanyinvestmentstrategytoberobustitisdesirablethatitbetestedonunseenassetsdifferent already observed presenting behavior coherent market belong section technique generating artiﬁcial assets comply constraint proposed allowing testinvestmentstrategiesonamuchdiversevirtualscenariothatcaninvolvethousandsofassetsincludingornotthe originalones. toourknowledgethisissuehas notbeenaddressedinanypreviouslypublishedstudy. section proposed techniques combined order generate high-dimensional long-term virtual scenarios multivariate ﬁnancial data involving several decades daily asset returns thousands stocks whosepropertieswillbecheckedwithoursetofmetrics. finallysectionwillsummarizetheconclusionsandmain contributionsofthiswork. severalquantitativepropertiesofﬁnancialtimeserieshavebeendescribedintheliteraturebeingknownas‘stylized’or ‘empirical’factschakrabortietal.). mostofthemarefocusedonunivariatetimeseriesand attempttodescribethedistributionalpropertiesofassetreturnsandtheirdependenceproperties)whilesomeotherstrytoaccountforthecharacteristicsofthepathdeﬁnedbypricemovements. however whendealingwithseveralassetsbelongingtothesameordifferentmarketsmultivariateanalysisplayacrucialroledue tothecross-assetdependencies). furthermorethedependencestructurebetweendifferentassets maybemorecomplexthanwhatcanbecapturedbyaveragecorrelationcoefﬁcientssoadditionalwaystomeasurethis dependencywillbeintroducedbelow. allthosepropertiesandthemetricsusedtoquantifythemwillbedeﬁnedinthis section. butﬁrstwewilldescribetheﬁnancialdatasetusedtoillustratethosepropertiesandtochecktheabilityof differentsimulationmethodstoreproducetheirproperties. datasetdescription inthisworkwewilldealwithstocks. particularlywewillanalyzeandusethedailyprices/returnsbetween// and//ofasetofstocksthathavebeenpartofthes&pindexatsometimewithinthisgivenperiod. thisdatasetisillustratedinfigureshowingthetimeseriesofbothpricesandreturns. forabettervisualizationstockpriceshavebeenforcedtostartatapricevalue thiskindoftimeseries representationwillbeusedthroughoutthispapertoillustratebothrealandsimulatedﬁnancialtimeseries. figure timeseriesofour-assetdatasetcomprisingstocksthathavebeenpartofthes&pindexat sometimebetween//and//anditsequally-weightedmarketindex. forbothsubﬁguresprice andreturnseriesareshown. hand entire dataset belonging asset class represented market index anaggregatedvalueproducedbycombiningitsconstitutingstocksorinvestmentvehicles. inthisway theaverage behavioroftheassetclasscanbeeasilytrackedovertime. alsotheresultingtimeseriesaccountforthecorrelation betweendifferentassetsandthusitreﬂectshowthesecorrelationsvaryovertime. inthisworkanequally-weighted index used represent overall behavior stocks within given time period. figure shows equally-weightedmarketindexforourparticulardataset. empiricalpropertiesofﬁnancialtimeseries distributionalproperties mostofthemetricsusedinordertoquantifyempiricalpropertiesofﬁnancialtimeseriesdescribeassetreturnsasa randomvariable. inthisworkwewillconsidersimplereturns amongthedifferentstatisticsthatcanbeobtained fromreturntimeseriesthemostusedarethoserelatedtotheshapeoftheirdistribution. thedistributionofasset returnstendstobenon-gaussianshape-pikedandpresentingheavytailsasithasbeenobservedinvariousmarket data. thisbehaviorisusuallyquantiﬁedbymeasuringthekurtosisofthedistributionof twhichreﬂectsadeviation fromthenormaldistribution. theheavy-taileddistributionofassetreturnsisrevealedbykurtosisvalueslargerthan figureshowsthereturnseriesforaparticularstockwithinourdatasetwhilefigure showsitsdistribution. asitcanbeseenthedistributionismoreshape-pikedandfat-tailedthanthenormaloneleading tolargekurtosisvalues. thisisageneraltrendinourdatasetasfigureshowswherethedistributionofkurtosis valuesfromallstocksisplotted. figure exampleofreturntimeseriesanditsdistributionfortheadobesystemsinc. stock. thegaussian distributionisalsoplottedforcomparisonpurposes. thisparticulartimeserieshasakurtosisvalueof.anda skewnessvalueof.. alsothedistributionofassetreturnsusuallyshowsasigniﬁcantdegreeofasymmetrywhichcanbequantiﬁedby itsskewnessvalue. positivevaluesofskewnessreﬂectsmoreprobablevaluesattherighttailofthedistributionwhile negativevaluesindicatesalongerorfatterlefttail. foraunivariatenormaldistributiontheskewnessvalueis. whethertheskewnessofassetreturnsispositiveornegativeseemstodependonthetypeofﬁnancialseriesbeing analyzed) whilenegativeskewnessvalueshavebeenreportedformarketindexespresenting larger drawdowns upward movements individual stocks seem show greater variance tending positive skewnessvalues. thishasbeenalsoobservedinourdataset theskewnessvalueforourequally-weightedmarketindex infigureis-.whilethedistributionofskewnessvaluesfromallstocksshowninfigureisslightly shiftedtopositivevalues. distributionalpropertiesofassetreturnsareusuallyestimatedoverthewholeﬁnancialtimeseriesasithasbeen doneabove obtainingasinglevalueofthemetricperasset. however thesepropertiesmay changeovertimedependingonthevolatilityconditionsindifferentperiodssorollingmetricswillalsobeusedinthis workinordertoaccountforthetime-varyingdynamicsoftheshapeofthedistributionofassetreturns. dependenceproperties anotherwell-knownfactisthatassetreturnsdonotpresentsigniﬁcantlinearautocorrelationexceptforveryshort intra-daytime-scales. thisfacthasbeenwidelydocumentedandhasbeencitedasasupportofthe‘efﬁcientmarket hypothesis’duetoitsunpredictability. althoughautocorrelationofassetreturnsisinsigniﬁcantithasbeenobserved thatsomenon-linearfunctionsofreturnssuchasabsoluteorsquaredreturnsdopresentsigniﬁcantautocorrelation usuallyrelatedtothewell-knownphenomenonofvolatilityclustering. thispropertycanbesummarizedbysayingthat largepricevariationsaremorelikelytobefollowedbylargepricevariations. figureshowstheautocorrelationfunctionsofreturnsandabsolutereturnsfortheadobesystemsinc. stock. asitcanbeseenautocorrelationofassetreturnsrapidlydecaystozero)whilesquaredreturnsare positivelyautocorrelatedevenforlargetime-lagvalues). inordertoshowhowrapidlydecayautocorrelation valuesforthewholedatasettheabsolutevaluesoftheacfareaveragedforeverystockandthedistributionoftheresultingvaluesplotted. shownthepreviousobservationforaparticularstockholdstrueforthewholedataset. pathwiseproperties properties univariate ﬁnancial time series based characteristics price time series. forexampletheirregularityofthetrajectoryfollowedbypricemovementsofaﬁnancialassetisrelatedtoitsrisky character. thiscanbequantiﬁedbythenumberoftrendsobservedoveragiventimeperiod. howeverdeﬁningwhen atrendappearsorchangesisnotstraightforwardanddifferentdeﬁnitionscanbeappliedexistingseveralmethods change-point detection time series lovrić among aspects noise level threshold must deﬁned order decide given price movement considered trendchangeorjustnoisewithinthesametrend. inthispaperatrendisdeﬁnedasthepricemovementbetween twoconsecutivedirectionalchangepointsasdeﬁnedinbakhachetal.. howeverinthisworkthegoalis noteithertosummarizethepriceseriesnortopredictdcpointsbuttosegmentex-postagivendatarecordforthe followingpurposes figure averageoftheabsolutevaluesofthesampleautocorrelationfunctionofreturnsandabsolute returnsforeverystockwithinourdataset. forreturnstheﬁrstlagsaretakenintoaccountwhilelagsare averagedforabsolutereturns. figureshowsanexampleofthedetectedtrendsovera-daysperiodfortheadobesystemsinc. stock. itcanbeseenalargenumberoftrendscanbeobservedwithinhighvolatilityperiods whilecalmperiodspresentamuchlowernumberoftrends. trendratioscanalsobeusedtocharacterizethebehaviorofaﬁnancialasset. givenatrenditstrendratioisdeﬁned return period trend held divided noise level used order deﬁne trend itself. large trend-ratio values indicate infrequent behavior presenting unusual return within given time-period. thedistributionofthetrend-ratiovaluesforagiventimeseriescanthenbeplottedrevealinghigh-yield trendsasoutliersifboxplot-typerepresentationsareused. figureshowthiskindofrepresentationfortheadobe systemsinc. stock. asitcanbeseensomeoutliersappearduetothehigh-yieldtrendsinthecalmperiodshowninfigure. cross-assetrelationships whileitisnecessarythatindividualartiﬁcialassetspossessunivariatecharacteristicssimilartotherealonesthisisnot sufﬁcientasinvestmentstrategiesusuallydealwithalargenumberofassets. itisalsonecessarythenthatthewhole artiﬁcialdatasetbehavessynchronouslyasarealonepresentingsimilarcross-assetrelationshipsasthoseobservedin assetsfromrealmarkets. themoststraightforwardwaytoquantifythesecross-assetrelationshipsistocomputethe correlationcoefﬁcientbetweeneachpairofassets. aneasywaytovisualizeandcomparecorrelationsamongdifferent assetsanddatasetsistoobtainthecorrelationmatrixforthedatasetandgraphicallyrepresent thosecoefﬁcientsinwhatitisusuallycalledacorrelationmap. suchkindofrepresentationcanbeseeninfigurefor ours&p-stockdataset. althoughagivenmarketmaypresentcorrelationsbetweenassetsthatholdonaveragethesecorrelationsusuallychangedynamicallyovertime. forexampleithasbeen reportedthatcorrelationslargelyincreaseduringhighvolatilityperiods resultinginmarketsthatmoveasawhole duringcrisis. thiscanbeseeninfigurewherecorrelationmapsofours&p-stockdatasethavebeenplotted fortwodifferenttimeperiods alowvolatilityperiod)betweendaysand high volatility period days seen correlation maps showsimilarpatternsregardingrelativecross-correlationbetweenassetscorrelationsaremuchhigherduringthehigh figure correlationmapbetweenours&p-stocksdatasettwodifferentperiods alowvolatilityperiod betweendaysandandahighvolatilityperiodbetweendaysand inordertoquantifythisdynamicbehaviorofcross-assetrelationshipstheequally-weightedmarketindexofthe givensetofassetswillbeusedtodeﬁnethefollowingmetricsasthistimeseriesdependsontherelationshipbetween differentassets numberoftrends. wewillrequirethatmarketindexesofartiﬁcialassetspresentasimilarbehaviortothatofthe realonesintermsofnumberoftrendsoveracertainperiod. ifartiﬁcialtimeserieswouldbeuncorrelatedtheir aggregationwillresultinasmoothedpathpresentingmuchlowernumberoftrends. javierfranco-pedroso directionalsimilarity. thisquantitymeasuresthepercentageofassetswithinagiventimeperiodwhosepricesmove inthesamedirectionthantheequally-weightedmarketindexreﬂectingthusthe temporalcorrelationamongdifferentﬁnancialseries. aone-daysteppedﬁfty-daysliding-windowisusedtoobtain themovingaveragepriceofthemarketindexandforeachwindowthepercentageofassetswhosepricesmovein thesamedirectionarecomputed. figureshowsthevalueofthismetricobtainedforeachofthedifferent windowswhilefigurerepresenttheirdistributionbymeansofaboxplot. asshownitisusualthatahigh percentageoftheassetsfromagivenmarketbecomecorrelatedatseveraltimeperiodsbeingthistheexpected behaviorforartiﬁcialassets. evaluation stochastic models simulation methods classicalstochasticmodels oncewehavedeﬁnedsomepropertiesofﬁnancialtimeserieswecanproceedtotestsomeapproachesforsimulating virtual scenarios ability reproduce properties generating artiﬁcial assets. looking publiclyavailablemethodstosimulatepriceorreturnvaluesthemostwidelyusedisthegeometricbrownianmotion asitisthecoreofthewell-knownblack-scholesmodel;merton). thismethod describestheevolutionofthepriceofastockasastochasticdifferentialequationbasedonawienerprocessthepercentagedriftandthepercentagevolatilitywhicharetakentobeconstantandequaltothe historicalaveragereturnandstandarddeviationrespectively. however shown model fails capture well-known stylized facts specially thoserelatedtothedynamicbehaviorofmarketssuchasthevolatilityclusteringbutalsotheexcesskurtosisofthe unconditionaldistributionofreturnsasbeingbasedongaussianinnovationswithconstantparameters. inorderto javierfranco-pedroso illustrate this simulated path adobe systems inc. stock using matlab financial toolbox )implementingthegbm.figureshowsthereturntimeseriesofthesimulatedpath. asit canbeseeninfiguregbmclearlyfailstoreproducetheexcesskurtosisofstockreturnsasallthereturntime seriesisdrawnfromthesamegaussiandistributionwithﬁxedparameters. forthesamereasonthemodelalsofailsto reproducethevolatilityclusteringfeaturewhicharisefromobservingsetsofsampleswithtime-varyingvariance. canbeseenbysimplevisualinspectionoffigurebutalsoreﬂectedwhenevaluatingtheautocorrelationfunction ofabsolutereturns)wherealackofautocorrelationisobservedevenforsmallvaluesofthetime-lag. similarresultsareobtainedwhenusingothervariantsbasedonsdes. figure simulatedreturntimeseriesanditsdistributionforasimulatedpaththroughgbm.this particulartimeserieshasakurtosisvalueof.andaskewnessvalueof-.. volatilitymodels inordertoovercometheseissuesvolatilitymodelswereproposedattemptingtodescribetheevolutionofassetreturns orpricesbymodellingvolatilityasatime-varyingprocess. amongthemtwomainfamiliesofvolatilitymodelshave become dominant approaches arch modelsandstochasticvolatilitymodels. intheformeronethevarianceisadeterministicvaluethatdependsonthe previousvaluesofthetimeseries. thenanalyticexpressionforthelikelihoodfunctionoftheparameterstobeﬁtted canbederived. converselyinstochasticvolatilitymodelsvolatilityisalatentstochasticprocessrequiringcomplex techniquestocomputethelikelihoodfunctionoftheparameters. whilebothtypesofmodelscanbeusedtosimulateassetreturnsorpricesfewpubliclyavailableimplementations found directly provide simulated paths volatility models mainly used forecast volatility estimate value risk based simulations .mostofthemarebasedonthegeneralizedarch modelinwhichthevariancealsodependsonthe previousvaluesofthevarianceitself. inthenextexample wehaveusedthematlabfinancialtoolboxtogenerateasimulatedpathforagarchmodelwithparameters figure simulatedreturntimeseriesanditsdistributionforasimulatedpaththroughgarch. particulartimeserieshasakurtosisvalueof.andaskewnessvalueof-.. ﬁtted adobe systems inc. stock. seen figure simple visual inspection return series reveals volatility clustering reproduced simulated path conﬁrmedbytheautocorrelationinabsolutereturnsshowninfigurewhilereturnsarestilluncorrelated). alsoasshowninfigurethemodelreproducessomeoftheexcesskurtosisofthereturndistributiondue tothistime-varyingvolatility. figure rollingkurtosisandskewnessforasimulatedpaththroughgarch. thetemporalanalysis isperformedthrougha-daysliding-windowwith-dayoverlappingbetweenconsecutivewindows. skewnessasshowninfigure whilefortherealtimeseriesawiderangeofvaluesisobservedforbothkurtosisand skewnessforthesimulatedreturnseriesmostofthevaluesfromdifferenttimeperiodslayclosetothoseofagaussian distribution. thissuggestseitherthatthevarianceinthegarchmodelvaryata slowerratethaninrealstocksorthatadifferentdistributionofreturninnovationsisneeded. ifstudent’stinnovationsareusedinsteadofthegaussianonesinthegarchmodeltheexcesskurtosiscanbe betterreproducedasshowninfigure. forthetime-dependentanalysishoweverthevarianceofrollingkurtosis figure simulatedreturntimeseriesanditsdistributionforasimulatedpaththroughgarchwith student’stinnovations. thisparticulartimeserieshasakurtosisvalueof.andaskewnessvalueof-.. figure rollingofkurtosisandskewnessforasimulatedpaththroughgarchwithstudent’st innovations. thetemporalanalysisisperformedthrougha-daysliding-windowwith-dayoverlappingbetween consecutivewindows. values still rolling skewness values vary similar range real stock). moreoverasonlystatisticalpropertiesaretakenintoaccountbygarch-typemodelsveryrare situationscanappearinsimulatedtimeseriesregardingthepathwiseproperties. forexamplefigureshowsasimulatedpathwithaveryhighnumberoftrendssomeofthempresentingvery largetrend-ratiovaluesasshowninfigure. detected trends price series return series. figure detectedtrendsoverasimulatedpaththroughgarchwithstudent’stinnovationsandthe distributionofthecorrespondingtrendratios. multivariatevolatilitymodels besides aforementioned issues multivariate extensions volatility models asai )presentpracticaldifﬁcultieswhenattemptingtoﬁtmodelparameterstohigh-dimensionaldata. somevariants havebeendevelopedinordertoovercomethisissuebutthehighcomputationalcostofpracticalimplementations makestheminfeasibleforlargedatasets. forexample bekk)isamultivariateextension ofgarchinwhichthedynamiccovariancematrixfollowsanautoregressiveandmovingaverageprocess autoregression previous variance values moving average previous squared time-seriesvaluesbeingthenagenerativemodelthatcanproduceavarietyofclusteringbehavior. howeveritisa highlyparameterizedmodelsorestrictedversionsareusedinpracticeinordertomitigateoverﬁttingproblemsand reducethecomputationalcost. inthefollowingexamplethebekkmodelimplementedinthemfetoolbox)hasbeenusedwith parameters tosimulateassetreturnsfrommultivariatedata. duetothehighcomputationalcostofthe parameterestimationthenumberofmodeledassetshasbeenlimitedtoamaximumofrandomlyselectedfrom ours&p-stockdataset. themostillustrativeexampleofthecurseofdimensionalityforsuchkindofmodelsis showninfigureinwhichthreedifferentvirtualscenarioshavebeensimulatedwithdifferentnumberofstocks ))andstocks). thestockforwhichthesampleautocorrelationofabsolute returns plotted figure shared among three virtual scenarios. number assets model incrementedthevolatilityclusteringisworsereproducedasreﬂectedbyalowerautocorrelationofabsolutereturns. asshowninprevioussectionstherearemanyconstraintsthatartiﬁcialﬁnancialseriesmustcomplywithandnotallof themareproperlyreproducedbythemostcommonlyusedstochasticmodels. moreoverthereisalackofavailable procedurestoefﬁcientlygeneratevirtualscenariosforhigh-dimensionalmultivariatedataasintheusualapproaches theﬁttingprocessfailstoconvergeevenfortensofassets. section describe efﬁcient effective method generating artiﬁcial asset returns multivariatedatawithinagivenmarketthatallowstoreproduceinastochasticbutsomewhatconstrainedwaythe behaviorofassetreturnsobservedonrealdata. asthisapproachdoesnotattempttoprovideanexplanationofthe returns generation process latent variables parameters affecting whole generation process avoidedsimplifyingthentheparametersﬁttingprocess. ourproposedapproachcanbedividedintotwomainstages. intheanalysisstagethehistoricalrecord ofthedevelopmentdatasetisﬁrstsegmentedintodifferenttimeperiodsdeﬁnedbymarkettrends. thenmultivariate datawithineachtrendisanalyzedinordertocapturebothdynamicandstatisticalpropertiesofassetreturnseriesin thatperiod. inthesynthesisstagearandomsequenceoftrendsuptothedesiredlengthforthevirtual javierfranco-pedroso scenarioisﬁrsthypothesized. thenforeachtrendlearnedparametersarerecoveredandmultivariaterandomasset returnsaregeneratedforthattrend. finallymultivariateassetreturnsfromdifferenttrendsareappendedandthe virtualscenarioforthesimulatedassetsobtained. analysisstage asithasbeenpreviouslyshownsimulatedreturnsmustsatisfynotonlystatisticalconstraintsbutalsothepathdeﬁned bythepricemovementsmustshowsimilartrendsavoidinglargetrend-ratios. howeverasbeingpartofawholemarket trendscannotbeindependentlymodeledforeachindividualasset buttheymustrepresentanoverallbehavior. ourapproachanequally-weightedindexisusedtorepresenttrendchangesinthestockmarketreﬂectingtheoverall behaviorofthemarketwithinthistimeperiod. basedonthismarketindexthehistoricalrecordofthemultivariate datasetissegmentedintodifferentnon-overlappingtimeperiodsdeﬁnedbythedetectedtrendsandthesignofthe trendisrecorded. figureshowsthetrendsdetectedoverthemarketindexforthedataset describedinsection.. oncethehistoricalrecordhasbeendividedintodifferenttrendstimeserieswithinatimeperiodcorresponding trend analyzed short-time sliding window length order compute parameters reproducedinthesynthesisstage. theseparametersdeﬁnetheshapeofthedistributionfromwhichreturnvalues withinaslidingwindowwillbedrawn. inthisworkatime-dependentmultivariategaussiandistributionisusedwhose parametersareassumedtochangeevery generatedsamples. thatisforasetof multivariateassetreturnsrt within awindow {r}l {rt−l/rt−l/+ ...rt−rt ...rt +l/}itisassumedthat nwherethemean vector andthecovariancematrix aredifferentforeveryslidingwindow ithastobenotedthattheaimofthis gaussianassumptionisnottomodeltherealunderlyinggenerationprocessofassetreturnsbuttoprovideaneasyway toaccountfortheaveragepricemovementsofanassetwithrespecttootherassetswithinthetrendandtocapturethe dynamicbehaviorwithinthetrendofvariancesandcorrelations. foreachgiventrendthesequenceofparameters obtainedfromthe slidingwindowswithinthetrend {}... {}arestored. javierfranco-pedroso approach resembles regime-switching model type trend could associated different regime note important differences approach ﬁrsttheparametersofthegeneratingprocesseswithinatrend/regimearealsotime-varyingduetotheuse ofaslidingwindowmuchshorterthanthetrendlength;andsecondthereisnoneedtoestimatetransitionprobabilities betweenregimesastheyaredirectlyobservedinsteadofbeinglatentvariables. synthesisstage inthesynthesisstageastochasticsequenceoftrendsisﬁrsthypothesizeduptothelengthofthedesiredsimulation withtheonlyconstraintofalternatingupwardanddownwardtrends. thisconstraintensuresthatthetimeseriesdo notdivergefromtheaveragebehaviorinthehistoricalrecordandthatnoartiﬁciallylargetrendsappearinsimulated dataastrendsofthesamesigncannotbeconcatenated. then trend simulated sequence parameters within trendisrecoveredand samplesdrawnfromeachofthecorresponding multivariategaussiandistributions. ensuresthatvolatilityclusteringisreproducedashappenswiththedynamicbehaviorofcorrelationsbetweenassets whilenewartiﬁcialreturnvaluesaregenerated. althoughthesimulatedreturnsaredrawnfromgaussiandistributionsheavy-tailsariseevenintheshort-term returndistributionasitbecomesamixtureofmultivariategaussianswhoseparametersaredifferentforevery slidingwindow wchangingevery generatedsamples. thatisforagiventrendthedistributionofsimulatedasset oncethereturnvalueshavebeensimulatedforeachtrendtobegenerated returns paths concatenated order obtain ﬁnal virtual scenario given hypothesized trend sequence. inordertohighlighttheadvantageoftheproposedapproachoverthepreviouslyanalyzedmethodsinsection wewillshowsomeofthepropertiesofthesimulatedassetsinthefollowingfigures. firstthereturntimeseries ofaparticularsimulationfortheassetinfigureisshowninfigureanditscorrespondinghistograminfigure presentingaleptokurticdistributionsimilartothatoftherealstock). moreoverwhenanalysing distributionalpropertiesovertimeitcanbeseenthatrollingkurtosisandskewnessvaluesaremuchcloser totherealonesevencomparedwithsimulationsobtainedwithgarchmodelswithstudent’stinnovations. regardingthedependencepropertiesfigureshowstheacfofbothreturnsandabsolutereturns. itisspecially remarkablethefactthatalthoughtheanalyzedassethasbeenjointlygeneratedwiththerestofthe-stockdataset absolutereturnsofthesimulatedassetpresentsigniﬁcantautocorrelationforlargetime-lagswhilethiscouldnotbereproducedwiththemultivariategarchmodelinsection. regardingthe pathwiseproperties figureshowthe detectedtrendsonthesimulated asset none artiﬁcialtrendsappear). thentrend-ratiosdistribution showninfigureismoresimilartothatoftherealone)anddonotpresentoutliersasthoseseen infigure. finallyregardingcross-assetrelationshipsasthereturnsinvirtualscenariosaredrawnfrommultivariatedistributionscross-correlationsbetweenassetsareproperlyreproducedduetotheuseofthecovariancematricesestimated intheanalysisstepasitcanbeseenintheaveragecorrelationmapshowninfigure. forthesamereasonthese cross-correlationschangeovertimeascovariancematricesareupdatedthroughouteachtrend. thiseffectisobserved inthetemporalevolutionofdirectionalsimilarityovertimeasshowninfigure. figure exampleofsimulatedreturntimeseriesanditsdistributionfortheadobesystemsinc. stock. thegaussiandistributionisalsoplottedforcomparisonpurposes. thisparticulartimeserieshasakurtosisvalueof .andaskewnessvalueof.. figure rollingkurtosisandskewnessforasimulatedpathoftheadobesystemsinc. stock. temporalanalysisisperformedthrougha-daysliding-windowwith-dayoverlappingbetweenconsecutive windows. additionallytogeneratingarbitrarylongvirtualscenariosforagivensetofrealassetsitwouldbedesirabletotest theinvestmentstrategiesonamuchdiversedatasetpresentingnewadditionalassetswithunseencharacteristicsbut coherentintimewiththeexistingones). inthiswayinvestmentstrategiescouldbeﬁttedto detected trends price series return series. figure detectedtrendsoverthepriceseriesandthedistributionofthecorrespondingtrendratiosfora simulatedpathoftheadobesystemsinc. stock. anaveragemarketbehaviorbutnottospeciﬁcassetsbeingthenmoregeneral-purposestrategies. alsoitallowsto developastrategyonagivendatasetbuttestitinanunseendifferentone. inthissectionamethodisproposedto synthesizenewassetsfromagivendatasetbymeansofapca)projection-recoveryprocess. principalcomponentanalysisisatechniquethatallowstorepresentasetofpossiblycorrelatedobservations asalinearcombinationofuncorrelatedvariablesbyapplyinganorthogonaltransformation. someofthoseuncorrelated variablestheprincipalcomponentsaccountformostofthevariabilitypresentintheoriginaldatawhiletheremaining ones seen source additive noise original variables. thus mainly used dimension reductiontechniquebykeepingonlythe principalcomponentsanddiscardingtheremainingones. howeverinthis workpcawillbeusedwiththeoppositepurpose. whenapplyingpcatoﬁnancialtimeseries)theﬁrstcomponentcanbeseenastheaverage behaviorofthedifferenttimeseriesinasimilarwayasamarketindexdoes. ontheotherhandfurthercomponentswill accountforadditionalvariabilityaroundthisaveragebehaviorthatexplainthedifferencesamongthedifferentassets. combination components given eigenvectors produces different asset original variable space. thus artiﬁcial eigenvectors generated based original ones combinations componentswillproducenewassetsdifferentfromthoseintheoriginaldatasetbutpresentingsimilarpropertiesas beinggeneratedfromthesamecomponents. foragivendatasetrof assetreturnsfromt tradingdaysapcatransformationmatrixwcanbeobtained andtheseassetsprojectedthroughy wr)beingytheprojectedassetreturnsorcomponents. ifno dimensionreductionisappliedwisa transformationmatrixofeigenvectorsws thatmapstheoriginalvectorsof assetreturnsrt intotheircomponentsyt. forthisworkthenumberofdimensionsisnotreducedasourgoalistoretain thehighestdegreeofvariabilityinordertoproducethemorediversevirtualscenariosaspossible. obtained procedure stackedtoformanartiﬁcialtransformationmatrixw. thenthecomponentsyareprojectedbacktotheoriginalspace byapplyingtheinversetransformationwy )beingr anewartiﬁciallygeneratedsetofassets. procedureusedtogeneratethoseadditionaleigenvectorsistodrawthemfromamultivariatenormaldistributionwith parameters eand˚ inthiswaytheaveragebehavioroftheartiﬁcialassetsisclosetothatof theoriginaldatasetandindividualartiﬁcialassetspresentsadegreeofvariabilitysimilartothatobservedintheoriginal dataset. figure shows example ofthe projection-recovery processfor -assetsubset our-stock dataset artiﬁcial -stock dataset generated described projection-recovery process. shown individual price movements differ observed real subset artiﬁcialassetreturns)presentaverysimilaraveragevolatilitypatternthatfollowstheaveragebehavior ofthemarket. thisisalsorevealedwhenplottingtheequally-weightedmarketindexofbothrealandartiﬁcialdatasets asshowninfiguresandrespectively. thisaveragebehaviorisalsoreproducedevenforlargeartiﬁcialdatasets. forexamplefigureshowsanartiﬁcial dataset generated described projection-recovery process size originalonealongwithsomemetricsand)thatreﬂectaverysimilaraverage behavior. finally combining previously described techniques namely generation virtual scenarios andthegenerationofnewartiﬁcialassetsweareabletogeneratevirtualscenariosforlargedatasetsof multivariate data long wide desired. provide large amounts data investment strategies testing purposes checking behavior unseen scenarios. section look generatedlong-termhigh-dimensionalvirtualscenariosandchecktheirproperties. experimentalframework thegenerationoflong-termhigh-dimensionalvirtualscenariosisbasedontherealdatasetdescribedinsection. composedofthedailyprices/returnsfromstocksthathavebeenpartofthes&pindexatsometimebetween period trading days returns zero every asset removedasitisassumedthatthemarketisclosedresultingin-daytimeseries. tableshowsthesizeofdatasets atdifferentstagesofourproposedapproach. first byfollowingtheproceduredescribedinsection. trendsare detected equally-weighted market index real dataset time-varying parameters gaussian multivariatedistributionestimatedforeachofthosetrends. thentheproceduredescribed insection.isappliedtosimulatea-yearvirtualscenariofortheoriginalsetofstocksresultinginadataset composedoftradingdaysfromstocksasshowninthethirdcolumnoftable. finallythenumberofassets isincreaseduptobyusingthepcaprojection-recoveryprocessdescribedin. inordertoshowthepropertiesofthegenerateddatasetsonavarietyofscenariosthreedifferentsimulations generated following process described above. sequence trends multivariate returnsdrawnwithineachwindowarerandomlygenerateddifferentdatasetswillshowdifferenthistoricalmarket indexes. theseoverallbehaviorswillbecomparedwitha-yearhistoryofthes&pindexbetween// and//. ontheotherhanditisexpectedthatthedifferentvirtualscenarioswillshowempiricalproperties similar measured real dataset generated compare distributionoftrendratios. figure artiﬁcial-stockdatasetitsaveragecorrelationmapdetectedtrendsofthe equally-weightedmarketindexofbothrealandartiﬁcial-stockdatasetsandtrendratiosdistributionsof individualtimeseriesforbothrealandartiﬁcial-stockdatasets. results figureshowsthemarketindexesofthree-yearvirtualscenariosofamarketinvolvingassetsgeneratedfrom our-stockoriginaldatasetalongwitha-yearhistoryofthes&pindexbetween//and//. asshowngeneratedscenariosarehighlyvariableintermsoftheaggregatedeffectreﬂectedinthemarketindexwhile presentinganupwardpatternsimilartothatofarealmarketindex. thenumberofdetectedtrendsonthemarketindex forthevirtualscenariosisoftheorderofhundredsslightlyhighertothatofourrealmarketindexdependingonthe particularsimulation. itshouldbenotedhoweverthatthereals&pindexistheaggregationofdifferentstocksnot javierfranco-pedroso equallyweightedthatmaychangeovertimewhilethe marketindexofourvirtualscenariosconsistofthesamesetofequally-weightedassetsalongitswholehistory. also thenumberofassetsinvirtualscenariosismuchhigher. infigureweanalyzesomedistributionalpropertiesofourthreevirtualscenariosandcomparethemwiththose ofour-year-stockoriginaldataset. figuresandshowthedistributionofkurtosisandskewnessvalues respectivelywhencomputedforeachwholetimeserieswhilefiguresandshowthesamedistributional propertiesbutanalyzedinatime-varyingfashion. asshowndistributionalpropertiesofvirtualscenarios presentarangeofvaluessimilartothatofouroriginaldatasetbutalittlemoreconcentratedinsmallervaluesforboth metrics. whilekurtosisandskewnessdistributionsshowmorevariancebetweensimulationswhencomputedforthe wholetimeserieslessdifferencesarisewhencomputedastime-varyingfeatures. figure distributionsofkurtosisandskewnessvaluesforour-year-stockdatasetandfor three-year-stockvirtualscenarios. metricsarecomputedforthewholetimeseriesandinatime-varying fashion. regardingdependence properties figure showsthecomparison ofautocorrelationvalues forboth returns andabsolutereturnsascomputedinsection... asitcanbeseeninfigurewhilesimulatedreturnsshowthe desiredabsenceofautocorrelationtheaverageoftheabsolutevaluesoftheacfissigniﬁcantlylowerinthevirtual scenarioscomparedtoouroriginaldataset. thiscanbeduetothefactthatourreturnsgenerationprocessdonotfollow anautoregressiveapproachandsotheacfatanylagisclosertozerothanthatofrealtimeseriesfortheﬁrstlags. ontheotherhandautocorrelationofabsolutereturnsforthevirtualscenariosaremuchclosertothatofouroriginal dataset)althoughabitlower. order summarize pathwise properties artiﬁcially generated datasets figure shows distributions trend ratios three virtual scenarios along original dataset. shown distributionsofsimulateddataarequitesimilartothoseoftherealdatabutsomeoutlierswithhightrendratiosmay appear. howeverasanynumberofadditionalassetscanbegeneratedthroughthepcaprojection-recoveryprocess theseoutlierscanbeeasilyavoidedbydetectingthemanddiscardingtheassetsinwhichtheyappeargeneratingnew ones. finallyascanbeseeninfiguresimilardistributionsofdirectionalsimilarityvaluesareobtainedforboth realandartiﬁcialdatashowingthefactthatassetsinvirtualscenariosalternatebetweenhighandlowcorrelations alongtimeasrealassetsdo. inthisworkwehavepresentedanapproachtosimulatevirtualscenariosofmultivariateﬁnancialdataaslongasdesired. thisapproachgeneratesartiﬁcialassetreturnsthatbehavemuchliketherealonesdoasmeasuredbyoursanity-check constraints. virtual scenarios simulated computational cost involving decades trading days hundredsofassetswithinagivenmarketandevennewartiﬁcialassetsforthatmarketcanbecreated. firstinordertodeﬁnetheconstraintsthatartiﬁcialassetreturns/pricesmustcomplywiththebest-knownstylized factshavebeendescribedandsomeotherpropertiesthataccountforthecross-assetrelationshipwithinaspeciﬁc markethavebeenintroduced. thensomeofthemostcommonapproachesfoundinpubliclyavailabletoolboxeshave beentestedinordertocheckhowthesimulatedassetreturns/pricesreproducetheobservedproperties. amongthe distributionalpropertiesofassetreturnstheexcesskurtosisisoneofthemostdifﬁcultfeaturestoreproducespecially whenitisanalyzedasatime-varyingfeatureevenifheavy-tailedgenerativedistributionsareused. neitherexcess kurtosisorvolatilityclusteringareproperlyreproducedbystochasticmodelsbasedonthegeometricbrownianmotion volatility models student’s innovations required obtain asset returns thatbettersatisfytheseconstraints. howeverwhendistributionalpropertiesofreturntimeseriesareanalyzedasa time-varyingfeaturemoredifferencesarisewithrealassets. moreovernoneoftheavailablemultivariateapproaches foundasready-to-usesoftwarepackagesallowtogeneratevirtualscenariosforhigh-dimensionaldatasetsastheone proposedinthisworkinvolvinghundredsoreventhousandsofassetsbecauseasthenumberofassetsincreasesthey failtoreproducevolatilityclusteringandtheparameterﬁttingprocessfailstoconvergeevenfortensofassets. hand proposed approach allows generate ﬁnancial datasets large desired still reproducingvolatilityclusteringandcross-assetsrelationshipstoagreatextentleading tosetsofassetsthatbehaveasbelongingtothesamemarket. whilepathwiseartifactsmayappearinthegenerating processtheycanbeeasilydetectedandtheassetsinwhichtheyappearreplacedbyerror-freenewonesthankstothe pcaprojection-recoveryprocess. shown wide variety scenarios generated simply randomly alternate upward downwardtrendsbutalsohandcraftedscenarioscouldbegeneratedifatrendsequenceisspeciﬁed. althoughthe behaviorofeachgeneratedtrendintheproposedapproachissomewhatconstrainedasbeingsynthesizedfromthe sequence multivariate parameters estimated analysis stage variability could introduced slightlychangingsomeoftheseparameters. forinstanceaveragereturnsorcovariancesmaybeshiftedoreventhe lengthofthetrendalteredbysamplinganumberofreturnsperwindowinthesynthesisstagedifferenttothatusedin theanalysisone. howeverfurtherworkisrequiredtoensurethattheanalyzedpropertiesarekeptwhenapplyingsuch changes. regardingdistributionalpropertieskurtosisandskewnessvaluesforthesimulatedassetsbehavemuchsimilarto therealonesthanthosegeneratedbyotheranalyzedtechniquesspeciallywhenconsideredastime-varyingfeatures astheparametersofthesampleddistributionchangeforeveryshort-timewindow. finallywhilesimulatedreturntime seriesshowthedesiredabsenceofautocorrelationsomedifferencesappearcomparedtotherealonesasourreturns generationprocessdoesnotfollowanautoregressiveapproach. althoughthegeneratedvirtualscenariosarestilluseful forvolatility-ortrend-drivenalgorithmsthisfactmayhavesomeeffectonstrategiesbasedonautorregressivemodels sofurtherresearchmustbedoneinthisdirection. bauwens laurent rombouts multivariate garch models survey. journal applied econometrics http//onlinelibrary.wiley.com/store/./jae./asset/_ftp.pdf?v=&t=jckjctc&s= eccbffeebaaaedc. bollerslevt.generalizedautoregressiveconditionalheteroskedasticity. journalofeconometrics–. bollerslev chou kroner arch modeling ﬁnance review theory empirical evidence. boxg.e.p.andm.j.g.timeseriesanalysis. johnwiley&sonsinc. chakraborti patriarca santhanam financial time-series analysis brief overview. papers arxiv.org. contr.empiricalpropertiesofassetreturns stylizedfactsandstatisticalissues. quantitativefinance–. —volatilityclusteringinfinancialmarketsempiricalfactsandagent-basedmodels–. springerberlinheidelberg. davisr.a.andmikoscht.thesampleautocorrelationsofﬁnancialtimeseriesmodels. engle kroner multivariate simultaneous generalized arch. econometrictheory https mertonr.theoryofrationaloptionpricing. thebelljournalofeconomicsandmanagementscience–. plerou gopikrishnan rosenow nunes amaral stanley universal nonuniversal properties cross correlations ﬁnancial time series. phys. rev. lett. https//link.aps.org/doi/./ physrevlett... sheppardk.theoxfordmfetoolbox. https//www.kevinsheppard.com/mfe_toolbox. themathworksi.matlabﬁnancialtoolbox. https//www.mathworks.com/products/finance/.", "year": "2018"}
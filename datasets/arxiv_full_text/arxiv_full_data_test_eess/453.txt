{"title": "Statistical Sensor Fusion of a 9-DoF MEMS IMU for Indoor Navigation", "tag": "eess", "abstract": " Sensor fusion of a MEMS IMU with a magnetometer is a popular system design, because such 9-DoF (degrees of freedom) systems are capable of achieving drift-free 3D orientation tracking. However, these systems are often vulnerable to ambient magnetic distortions and lack useful position information; in the absence of external position aiding (e.g. satellite/ultra-wideband positioning systems) the dead-reckoned position accuracy from a 9-DoF MEMS IMU deteriorates rapidly due to unmodelled errors. Positioning information is valuable in many satellite-denied geomatics applications (e.g. indoor navigation, location-based services, etc.). This paper proposes an improved 9-DoF IMU indoor pose tracking method using batch optimization. By adopting a robust in-situ user self-calibration approach to model the systematic errors of the accelerometer, gyroscope, and magnetometer simultaneously in a tightly-coupled post-processed least-squares framework, the accuracy of the estimated trajectory from a 9-DoF MEMS IMU can be improved. Through a combination of relative magnetic measurement updates and a robust weight function, the method is able to tolerate a high level of magnetic distortions. The proposed auto-calibration method was tested in-use under various heterogeneous magnetic field conditions to mimic a person walking with the sensor in their pocket, a person checking their phone, and a person walking with a smartwatch. In these experiments, the presented algorithm improved the in-situ dead-reckoning orientation accuracy by 79.8 - 89.5% and the dead-reckoned positioning accuracy by 72.9 - 92.8%, thus reducing the relative positioning error from metre-level to decimetre-level after ten seconds of integration, without making assumptions about the user's dynamics. ", "text": "ensor fusion mems magnetometer popular system design -dof systems capable achieving drift-free orientation tracking. however systems often vulnerable ambient magnetic distortions lack useful position information; absence external position aiding dead-reckoned position accuracy -dof mems deteriorates rapidly unmodelled errors. positioning information valuable many satellite-denied geomatics applications paper proposes improved -dof indoor pose tracking method using batch optimization. adopting robust in-situ user self-calibration approach model systematic errors accelerometer gyroscope magnetometer simultaneously tightly-coupled post-processed least-squares framework accuracy estimated trajectory -dof mems improved. combination relative magnetic measurement updates robust weight function method able tolerate high level magnetic distortions. proposed auto-calibration method tested in-use various heterogeneous magnetic field conditions mimic person walking sensor pocket person checking phone person walking smartwatch. experiments presented algorithm improved in-situ dead-reckoning orientation accuracy dead-reckoned positioning accuracy thus reducing relative positioning error metre-level decimetre-level seconds integration without making assumptions user’s dynamics. markerless close-range photogrammetry laser scanning imaging instrument often moved tripod locations achieve complete coverage object. registration process performed combine data. nonlinear estimation process benefit good initial pose information provide. imus self-contained instruments capable measuring accurate relative poses systematic errors modelled well. process data conventional kalman filter textbooks usually introduce mechanization equations part dynamics model real-time navigation. alternatively paper data treated sensor measurements batch least-squares framework obtain globally smoothed navigation solution compensating relevant systematic errors simultaneously. sometimes impossible perform dedicated selfcalibration capturing data field times user might interested estimating dynamic portion systematic errors presented method applied in-situ improve quality navigation solution formulating navigation problem calibration problem. given uncontrolled motion frequent magnetic disturbances calibration parameters estimated improve navigation solution even though applicable out-of-sample. proposed self-calibration method performed offline using robust batch optimization technique. novelty presented -degrees-of-freedom calibration method combination following statistical sensor fusion -dof data accurate navigation batch post-processing. tightly-coupled sequential hierarchical calibration accelerometers gyroscopes magnetometers. number optimization variables time invariant contains calibration parameters; eliminates efforts rotation parameterization datum definition deriving initial approximation navigation states. following sensor models describe relationship observed signals true signal accounting systematic random errors. following equations uppercase letters represent matrices lowercase letters represent vectors. furthermore diagonal matrix lower-triangular non-orthogonality matrix composed three independent unknown parameters although effect scale-factor error axes non-orthogonalities merged single matrix treated separately accelerometers gyroscopes consistent literature gyroscope static periods data detected magnitude measured angular rate equal rotation rate earth. however mems imus noise typically masks weak signal. instead three components conditioned zero. gyroscopes magnetometers separate signal originating movement sensor ambient signals gyroscope signals magnetometer signals compared static dynamic situations. instead requiring sensor static local magnetic field constant homogeneous. assumption satisfied magnetometer lowpass filter smooths sensed angular rate gyroscope captures high-frequency dynamics missed magnetometers. although assumption satisfied outdoor applications indoor urban environments constant homogeneous magnetic field assumption often violated. instead assumption relaxed assume piecewise constant homogeneous magnetic fields expense losing absolute heading reference experiencing possible heading drift. ssuming longer duration homogeneous magnetic field reduce heading drift induce smoothing; however likely violated magnetic disturbances. contrary assuming shorter duration update higher probability valid heading drift rapidly. also perceived longer duration assumption robust magnetic disturbances larger rotation interval outliers become detectable. combine benefits approaches magnetometer updates performed frequencies simultaneously magnetic field measurements different times related rotation determined performing strap-down integration gyroscope signal accelerometers gyroscopes several updates based accelerometer gyroscope enforced depending user’s motion calibrating sensors namely levelling update zero-velocity update coordinate update sensor static accelerometers define tilt angles relative local-level frame measuring gravity. used update inclination determined integrating gyroscope readings give orientations absolute vertical reference. measured acceleration sensor frame linear accelerometer gain accelerometer axes non-orthogonality true acceleration sensor frame accelerometer bias accelerometer noise measured angular rate gyroscope frame gyroscope gain gyroscope axes non-orthogonality inter-triad mis-alignments accelerometers gyroscopes true angular rate sensor frame gyroscope bias g-sensitivity gyroscope noise constraints measurement updates section written implicit form unknowns observations respectively). chosen eliminate necessity explicitly solve navigation states grows linearly time. calibration parameters accelerometer gyroscope magnetometers solved simultaneously iterative implicit least-squares adjustment unknowns vector contains calibration parameters observations magnetometer readings along pseudo-measurements approximate cupt. regularization applied calibration parameters prevent overfitting cases parameters unobservable in-situ dynamics. nuisance parameters marginalized away design beginning constrain dimensions hessian matrix. marginalization hessian loses sparse structure; however size resulting dense matrix never exceed regardless amount data captured. favourable property offers potential method scaled larger datasets. standard deviations sensors obtained manufacturer’s specification sheets studying allan variance. noise introduced approximate cupt depends application requires tuning measurement updates assumed exact. improve robustness estimations huber tukey weight functions adopted accelerometer magnetometer observations respectively. approach suitable detecting abrupt magnetic disturbances significantly affect individual observations example. gradual changes magnetic field single residual happen fall detection threshold; case residuals consecutive measurements tested together using generalized likelihood ratio test applied magnetometer residuals using sliding window approach postadjustment. afterwards batch optimization using mestimator repeated outliers downweighted. navigation solution determined efficiently using mechanization equations adjusted accelerometer gyroscope observations compensating systematic errors. zupt static periods total change velocity zero. instead directly applying update velocity would involve solving nuisance intermediate velocity orientation parameters update applied directly accelerometer gyroscope signals using equation user rotating sensor standing sitting location and/or sensor returned approximately position period time approximate zero change position update applied. former case update applied regular intervals latter applied opportunistically even sensor static. following strap-down integration approach described assuming sensor started rest cupt implemented without explicitly solving navigation states shown below. summarize different information used calibration graphical representation measurement updates working coherence shown figures figure provides close-up view interaction observations constraints/updates figure shows global view orange circles calibrated sensor inputs purple circles constant values green circle strap-down integrated rotation quantity blue approximately zero change position update zero change velocity update. constraints updates happen different magnetometer updates applied regular intervals. figure reference orientation walking trial determined imar; gyroscope signal; orientation errors accelerometer accelerometer signal rotating frame in-situ self-calibration cupt. mti-g- data captured typical office environment many magnetic objects. shown figure little rotation first scenario measured magnetic field homogeneous. calibrated results without applying cupt given figures respectively. noted zupt applied better precision cupt benefit including loop-closure calibration minor trial. also suggests crucial user revisit previous locations in-situ calibration advantageous. however adjusted tracking solution desired loop-closure detected reliably applying improve estimated trajectory table observed errors without cupt postcalibration comparable. cases accelerometer gyroscope errors reduced deg/s similar results dedicated calibration performed on-site dynamic movements generate samples better spread sensor’s measurement ranges. inclusion approximate loop-closure update errors integrated acceleration slightly higher compensated improvement accuracy orientation estimate dominates integration performance. lthough in-sample error in-situ calibration comparable on-site calibration in-situ calibration results highly correlated motion; therefore calibration parameters less transferable out-of-sample trials calibration stronger excitations every axis. instance recovered hard-iron parameters on-site calibration recovered hard-iron effect in-situ calibration .]t. significantly nonetheless calibration improved overall accuracy approximately in-sample motion. figure reference orientation checking smartphone/tablet gyroscope signal; orientation errors accelerometer accelerometer signal rotating frame in-situ self-calibration cupt. periodicity signal shown figure caused swinging motion walking. although repetitive pattern walking exploited provide additional information mti- calibration measurement updates constraints described proposed methods section paper used. walking around typical office ambient magnetic field often changing objects fire extinguishers electronic devices shelves cabinets. despite challenging heterogeneous magnetic field conditions sensor’s in-sample accuracy improved determining updated calibration parameters using self-calibration shown figure table observed errors found integrated accelerometer gyroscope signals greatly reduced yielding approximately improvements respectively. mti- imar sitting still office desk picked user. following mocked keystrokes finger swiping motions imus returned approximately area desk. calibrated signals mti- shown figure seen figures amount motion limited sensor transitioned different magnetic fields. first caused table field front computer user looking sensor. orientation sensor trial along orientation errors integrated acceleration errors compared imar provided figure in-sample error reduced applying self-calibration method. using updated calibration parameters accuracy improvement integrated angular rate integrated acceleration figure input signals in-use self-calibration. treated smartphone tablet. user reached table returning pretending check messages. green blue left column represents components respectively. calibration tremendous value mems imus expensive quality assurance procedure needs updated frequently. paper presented total-system user self-calibration routine -dof mems imu. contrast calibrating individual components separately sensors jointly estimated take advantage correlations. encompasses static dynamic inertial magnetic information applies attitude update cupt zupt without external equipment estimate calibration parameters. self-calibration method designed robust inhomogeneity ambient magnetic field. results shown calibration quality deteriorate presence magnetic disturbances. calibration tested in-use various heterogeneous magnetic field conditions excitations mimicking person walking sensor torso person checking phone person walking smartwatch. best case scenario presented algorithm improved in-situ dead-reckoning orientation accuracy approximately greatly reduced positioning error future work real-time implementation self-calibration method in-use applications. research funded tracking complex sensor systems eu’s seventh framework programme natural science engineering research council canada. valuable discussions jeroen henk luinge alexander young giovanni bellusci ignazio aleo laurens slot matteo giuberti gratefully acknowledged. k.h. evaluation convergence region automated registration method laser scanner point clouds. sensors vol. zhang improved multi-position calibration inertial measurement units. measurement science technology vol. syed aggarwal goodall el-sheimy multi-position calibration method mems inertial navigation technology vol. förstner wrobel mathematical concepts photogrammetry. manual photogrammetry bethesda american society photogrammetry remote sensing zhang parameter estimation techniques tutorial application conic fitting. image vision computing vol. gustafsson statistical sensor fusion lund studentlitteratur vydhyanathan bellusci luinge slycke next generation xsens motion trackers industrial applications. xsens technologies white paper figure reference orientation walking trial determined imar; orientation errors integrating gyroscope signal; accelerometer errors integrating accelerometer signal rotating frame in-situ self-calibration cupt.", "year": "2018"}
{"title": "WiSpeed: A Statistical Electromagnetic Approach for Device-Free Indoor  Speed Estimation", "tag": "eess", "abstract": " Due to the severe multipath effect, no satisfactory device-free methods have ever been found for indoor speed estimation problem, especially in non-line-of-sight scenarios, where the direct path between the source and observer is blocked. In this paper, we present WiSpeed, a universal low-complexity indoor speed estimation system leveraging radio signals, such as commercial WiFi, LTE, 5G, etc., which can work in both device-free and device-based situations. By exploiting the statistical theory of electromagnetic waves, we establish a link between the autocorrelation function of the physical layer channel state information and the speed of a moving object, which lays the foundation of WiSpeed. WiSpeed differs from the other schemes requiring strong line-of-sight conditions between the source and observer in that it embraces the rich-scattering environment typical for indoors to facilitate highly accurate speed estimation. Moreover, as a calibration-free system, WiSpeed saves the users' efforts from large-scale training and fine-tuning of system parameters. In addition, WiSpeed could extract the stride length as well as detect abnormal activities such as falling down, a major threat to seniors that leads to a large number of fatalities every year. Extensive experiments show that WiSpeed achieves a mean absolute percentage error of 4.85% for device-free human walking speed estimation and 4.62% for device-based speed estimation, and a detection rate of 95% without false alarms for fall detection. ", "text": "abstract—due severe multipath effect satisfactory device-free methods ever found indoor speed estimation problem especially non-line-of-sight scenarios direct path source observer blocked. paper present wispeed universal low-complexity indoor speed estimation system leveraging radio signals commercial wifi etc. work device-free devicebased situations. exploiting statistical theory electromagnetic waves establish link autocorrelation function physical layer channel state information speed moving object lays foundation wispeed. wispeed differs schemes requiring strong line-of-sight conditions source observer embraces rich-scattering environment typical indoors facilitate highly accurate speed estimation. moreover calibration-free system wispeed saves users’ efforts large-scale training ﬁne-tuning system parameters. addition wispeed could extract stride length well detect abnormal activities falling down major threat seniors leads large number fatalities every year. extensive experiments show wispeed achieves mean absolute percentage error device-free human walking speed estimation device-based speed estimation detection rate without false alarms fall detection. people spending time indoors nowadays understanding daily indoor activities become necessity future life. since speed human body physical parameters characterize types human activities speed estimation human motions critical module human activity monitoring systems. compared traditional wearable sensor-based approaches devicefree speed estimation promising indoor device-free speed estimation challenging mainly severe multipath propagations signals blockage monitoring devices objects under monitoring. conventional approaches motion sensing require specialized devices ranging radar sonar laser camera. among them vision-based schemes perform motion monitoring ﬁelds vision performance degradation light conditions. also introduce privacy issues. meanwhile speed estimation produced radar sonar varies different moving directions mainly because fact speed estimation derived doppler shift relevant moving direction object. also multipath propagations indoor spaces undermine efﬁcacy radar sonar. recently wigait widar proposed measure gait velocity stride length indoor environments using radio signals. however wigait uses specialized hardware send frequency modulated carrier wave probing signals requires bandwidth large resolve multipath components. hand widar work well strong lineof-sight condition dense deployment wifi devices since performance relies heavily accuracy tracing/geometry techniques. speed moving object either device-free device-based condition. wispeed actually fundamental principle requires speciﬁc hardware simply utilize single pair commercial off-the-shelf wifi devices. first characterize impact motions autocorrelation function received electric ﬁeld electromagnetic waves using statistical theory waves. however received electric ﬁeld vector cannot easily measured. therefore derive relation power received electric ﬁeld speed motions since electric ﬁeld power directly measurable commercial wifi devices analyzing different components ﬁrst local peak differential contains crucial information speed motions propose novel peak identiﬁcation algorithm extract speed. furthermore number steps stride length estimated byproduct speed estimation. addition fall detected patterns speed estimation. assess performance wispeed conduct extensive experiments scenarios namely human walking monitoring human fall detection. human walking monitoring accuracy wispeed evaluated comparing estimated walking distances ground-truths. experimental results show wispeed achieves mean absolute percentage error case human carry device mape case subject carries device. addition wispeed extract stride lengths estimates number steps pattern speed estimation device-free setting. terms human fall detection wispeed able differentiate falls normal activities sitting down standing picking items walking. average detection rate false alarms. best knowledge wispeed ﬁrst device-free/device-based wireless speed estimator motions achieves high estimation accuracy high detection rate deployment cost large coverage computational complexity privacy preserving time. indoor ﬁtness tracking people become aware physical conditions thus interested acknowledging amount exercise daily basis. wispeed assess person’s exercise amount estimation number steps patterns speed estimation. assistance wispeed people obtain exercise amount evaluate personal ﬁtness conditions without wearable sensors attached bodies. indoor navigation although outdoor realtime tracking successfully solved indoor tracking still leaves open problem now. dead reckoning based approach among existing popular techniques indoor navigation based upon measurements speed direction movement compute position starting reference point. however accuracy mainly limited inertial measurement unit based moving distance estimation. since wispeed also measure speed moving wifi device accuracy distance estimation module dead reckoningbased systems improved dramatically incorporating wispeed. home surveillance wispeed play vital role home security system since wispeed distinguish intruder owner’s different patterns moving speed inform owner well enforcement immediately. rest paper organized follows. section summarizes related works human activity recognition using wifi signals. section introduces statistical theory waves cavities extensions wireless motion sensing. section presents basic principles wispeed section shows detailed designs wispeed. experimental evaluation shown section section discusses parameter existing works device-free motion sensing techniques using commercial wifi include gesture recognition human activity recognition motion tracing passive localization vital signal estimation indoor event detection approaches built upon phenomenon human motions inevitably distort wifi signal recorded wifi receivers analysis. terms principles works divided categories learning based ray-tracing based. details categories elaborated below. learning-based schemes consist phases namely ofﬂine phase online phase. ofﬂine phase features associated different human activities extracted wifi signals stored database; online phase features extracted instantaneous wifi signals compared stored features classify human activities. features obtained either received signal strength indicator readily available granularity information encapsulating received power wifi signals. example e-eyes utilizes histograms amplitudes recognize daily activities washing dishes brushing teeth. carm exploits features spectral components dynamics differentiate human activities. wigest exploits features rssi variations gesture recognition. major drawback learning-based approach lies works utilize speed motion identify different activities obtain features related speed instead directly measuring speed. example doppler shift determined speed motion also reﬂection angle object well. features thus susceptible external factors changes environment heterogeneity human subjects changes device locations etc. might violate underlying assumption reproducibility features ofﬂine online phases. ray-tracing based based adopted techclassiﬁed multipathniques avoidance multipath-attenuation. multipathavoidance schemes track multipath components reﬂected human body avoid multipath components. either high temporal resolution virtual phased antenna array used multipath components relevant motions discerned time domain spatial domain irrelevant motions. drawback approaches requirement dedicated hardware usrp warp etc. achieve ﬁne-grained temporal spatial resolution unavailable wifi devices multipath-attenuation schemes impact multipath components attenuated placing wifi devices close vicinity monitored subjects majority multipath components affected subject drawback requirement strong working condition limits deployment practice. wispeed exploits physical features waves associated speed motion estimates speed motion without detouring. physical features hold different indoor environments human subjects wispeed perform well disregarding changes environment subjects free kind training calibration. wispeed enjoys advantage lower computational complexity comparison approaches since costly operations principal component analysis discrete wavelet transform short-time commercial main-stream wifi devices maximum bandwidth much smaller bandwidth witrack. meanwhile commercial wifi devices multiple antennas cannot work phased antenna array out-of-box carefully tuning phase differences among front-ends. section ﬁrst decompose received electric ﬁeld different components then statistical behavior component analyzed certain statistical assumptions. provide insight impact motions waves consider rich-scattering environment illustrated fig. typical indoor spaces. scatterers assumed diffusive reﬂect impinging waves towards directions. transmitter receiver deployed environment equipped omnidirectional antennas. emits continuous wave antennas received indoor environment reverberating chamber waves usually approximated plane waves fully characterized electric ﬁelds. ~erx denote electric ﬁeld received receiver time frequency transmitted wave. order analyze behavior received electric ﬁeld decompose ~erx electric ﬁelds contributed different scatterers based superposition principle electric ﬁelds denote static scatterers dynamic scatterers respectively denotes part received electric ﬁeld scattered i-th scatterer. intuition behind decomposition scatterer treated virtual antenna diffusing received waves directions waves together receive antenna bouncing walls ceilings windows etc. building. transmit antenna static considered special static scatterer i.e. moving classiﬁed dynamic scatterers i.e. power dominates electric ﬁelds scattered scatterers. known channel reciprocity waves traveling directions undergo physical perturbations therefore transmitting waves scatterers would receive electric ﬁelds contribute ~erx shown fig. therefore order understand properties ~erx need analyze individual components equal received electric ﬁeld i-th scatterer transmitting. then interpreted integral plane waves direction angles shown fig. incoming plane wave direction angle denote elevation azimuth angles respectively denote vector wavenumber stand angular spectrum characterizes electric ﬁeld wave. vector wavenumber given cos) corresponding free-space wavenumber speed light. angular spectrum written complex numbers unit vectors orthogonal speed i-th scatterer represented z-axis aligned moving direction scatterer illustrated fig. time dependence suppressed since affect results derived later. angular spectrum could either deterministic random. electric ﬁeld satisﬁes maxwell’s equations planewave component satisﬁes maxwell’s equations radio propagation building interior general difﬁcult analyzed waves absorbed scattered walls doors windows moving objects etc. however buildings rooms viewed reverberation cavities exhibit internal multipath propagations. hence refer statistical modeling instead deterministic apply statistical theory ﬁelds developed reverberation cavities analyze statistical properties ~ei. assume superposition large number plane waves uniformly distributed arrival directions polarizations phases well capture properties wave functions reverberation cavities therefore take random variable corresponding assumption fact angular spectrum result many rays bounces random phases thus assumed orthogonal component tends gaussian central limit theorem. assumption angular spectrum components corresponding different directions taken different multiple scattering paths thus assumed uncorrelated other. assumption results fact channel responses locations separated least half wavelength statistically uncorrelated electric ﬁelds contributed different scatterers thus assumed uncorrelated. time stands ensemble average realizations denotes inner product i.e. operator complex conjugate product denotes square absolute value electric ﬁeld. since assumed stationary process denominator degenerates stands power electric ﬁeld i.e. ~e|i merely normalized counterpart auto-covariance function. ~erx actually combination moving scatterer weighted radiation power moving direction dynamic scatterer play role acf. importance lies fact speed information dynamic scatterers actually embedded received electric ﬁeld. section derived received electric ﬁeld depends speed dynamic scatterers. dynamic scatterers move speed right-hand side would degenerate ~erx becomes simple estimate common speed acf. however easy directly measure electric ﬁeld analyze acf. instead power electric ﬁeld viewed equivalent power channel response measured commercial wifi devices. section discuss principle wispeed utilizes power response speed estimation. without loss generality channel response ofdm-based wifi systems example. transmitted received signals subcarrier frequency time then least-square estimator subcarrier frequency measured time deﬁne power response square magnitude takes form noise assumed follow normal distribution. prove this collect one-hour data static indoor environment channel sampling rate plot normalized standard normal distribution given subcarrier shown fig. shows distribution noise close normal distribution. verify whiteness noise also study deﬁned denotes auto-covariance function i.e. practice sample autocovariance function used instead. white noise sample approximated normal random variable zero mean standard deviation fig. shows sample samples ﬁrst subcarrier used. ﬁgure taps sample within interval thus assumed additive white gaussian noise i.e. previous analysis section assume transmits continuous waves practice transmission time limited. example ieee wifi systems operated frequency band bandwidth channels standard wifi symbol composed useful symbol duration guard interval. according ofﬁce buildings delay spread within range much smaller duration right-hand side obtained using relation corresponding thus obtained obtained plugging ρeiu moving directions dynamic scatterers approximately same choose z-axis aligned common moving direction. then closed forms ρeiu derived assumptions i.e. unit vectors orthogonal shown fig. re{·} denotes operation taking real part complex number denotes component u-axis direction then auto-covariance function derived experiments paper conducted typical indoor ofﬁce environment shown fig. experiment path blocked least wall resulting severe nlos condition. speciﬁcally investigate cases fig. demonstrates sample acfs cases. particular fig. visualizes sample corresponding snapshot fig. different subcarriers given ﬁxed time time fig. shows average much less noisy compared individual ˆρg. case regarded moving scatterer dominant radiation power compared scatterers giving rise dominance components additionally neglected e.g. kmax kmin then assume thus improve sample averaging across subcarriers i.e. denotes available subcarriers total number subcarriers. dynamic scatterers speed i.e. case monitoring motion single human subject |esu| deﬁning substitutions approximated observe weighted combination ρeiu left-hand side estimated speed embedded term right-hand side. separate term others right-hand side speed estimated. taking differential theoretical spatial acfs shown fig. notation denote although acfs different components received waves superimposed local peak happens ﬁrst local peak well. therefore component recognized speed information thus obtained localizing ﬁrst local peak ∆ˆρg important feature wispeed extracts noisy measurements. verify build prototype wispeed commercial wifi devices. conﬁgurations prototype summarized follows wifi devices operate wlan channel center frequency bandwidth mhz; equipped commercial wifi chip omnidirectional antennas equipped three omnidirectional antennas uses intel ultimate wifi link modiﬁed ﬁrmware driver sends sounding frames channel sampling rate obtained transmission power conﬁgured dbm. notational convenience write discrete signal local peak detection goal identify local peaks first apply moving window length chosen comparable width desired local peaks. then window center located verify exists potential local peak within window performing linear regression quadratic regression data inside window separately. denote squared errors quadratic regression sser denote linear regression. local peak within given window ratio interpreted measure likelihood presence peak within window central f-distribution degrees freedom certain assumptions choose potential window center point larger preset threshold determined desired probability ﬁnding false peak also larger neighborhoods α...α. thus similar pattern observed common dominant component speed cart person. experimental result illustrated fig. matches well theoretical analysis. similarly case fig. shows sample different subcarriers fig. shows average sample snapshot fig. given ﬁxed time time clearly pattern component sample much less pronounced case shown fig. fig. justiﬁed fact radiation power much smaller case dynamic scatterers consists different parts human body mobility. consequently shape resembles closely ρeiu dominant component moreover fig. observe superposition also observe embedded component similar pattern compared case since moving speeds experiments similar other. based theoretical results derived section propose wispeed integrates three modules moving speed estimator acceleration estimator gait cycle estimator. moving speed estimator core module wispeed extract useful features moving speed estimator detect falling estimate gait cycle walking person. wispeed estimates moving speed subject calculating sample ∆ˆρg measurements localizing ﬁrst local peak ∆ˆρg mapping peak location speed estimation. since general sample ∆ˆρg noisy seen fig. develop novel robust local peak identiﬁcation algorithm based idea local regression reliably detect location ﬁrst local peak ∆ˆρg. speeds difference measurement time. however scheme robust likely magnify estimation noise. instead leverage fact acceleration values approximated piecewise linear function long enough speed estimates within short duration. trend ﬁlter produces trend estimates smooth sense piecewise linear well suited purpose. thus adopt trend ﬁlter extract piecewise linear trend embedded speed estimation then estimate accelerations taking differential smoothed speed estimation. regularization parameter used control trade-off smoothness size residual ˆv|. then obtain acceleration estimation −˜v) shown complexity ﬁlter grows linearly length data calculated real-time platforms. estimated speed within certain range e.g. acceleration estimates small wispeed starts estimate corresponding gait cycle. fact process walking single step decomposed three stages lifting ground using lifted contact ground pushing body forward keeping still short period time next step. procedure repeated destination reached. terms speed cycle walking consists acceleration stage followed deceleration stage. wispeed leverages periodic pattern speed changes gait cycle estimation. speciﬁcally wispeed localizes local peaks speed estimates corresponding moments numerical example following verify effectiveness proposed local peak identiﬁcation algorithm. additive white gaussian noise zero mean variance signal sampled rate time noise absent true locations local peaks estimates proposed local peak identiﬁcation algorithm shown fig. noise present estimates shown fig. results estimated locations local peaks close actual peaks even signal corrupted noise shows effectiveness proposed local peak identiﬁcation algorithm. then speed moving object estimated distance ﬁrst local peak origin location ﬁrst local peak ∆ˆρg. median ﬁlter applied speed estimates remove outliers. acceleration calculated obtained section v-a. intuitive method acceleration estimation take difference adjacent speed estimates divide difference largest speeds. achieve peak localization persistence-based scheme presented formulate multiple pairs local maximum local minimum locations local maximum considered peak locations. time interval every adjacent peaks computed gait cycle. meanwhile moving distance every adjacent peaks calculated estimation stride length. introduce indoor environment system setups experiments. then performance wispeed evaluated applications human walking monitoring human fall detection. conduct extensive experiments typical ofﬁce environment ﬂoorplan shown fig. indoor space occupied desks computers shelves chairs household appliances. wifi devices introduced section used experiments. sets experiments performed. ﬁrst experiments study performance wispeed estimating human walking speed. device-free scenario shows number steps stride length also estimated besides walking speed. estimation accuracy used metric compares estimated walking distances ground-truth distances since measuring walking distance much easier accurate measuring speed directly. different routes locations devices tested details experiment setup summarized tab. tab. second experiments investigate performance wispeed human activity monitoring scheme. participants asked perform different activities including standing sitting down picking things ground walking falling down. fig. visualizes experimental results setting route i.e. static experimenter walks along speciﬁed route. fig. show three snapshots estimated acfs different time instances marked fig. fig. conclude although acfs different locations ﬁrst local peak ∆ˆρg highly consistent long acfs calculated similar walking speeds. fig. shows results walking speed estimation experiment clear pattern walking acceleration deceleration. corresponding stride length estimation shown fig. estimated walking distance within ground-truth distance hand average stride length close average walking stride length participants. fig. shows typical speed estimation results setting route attached cart experimenter pushes cart along speciﬁed route. cart moves different speeds realizations fig. fig. show corresponding speed estimates respectively. estimated speed patterns periodic patterns like device-free walking speed estimates fig. moving energy waves reﬂected human body middle point sample mean estimates. ground-truths routes shown fig. results wispeed performs consistently different tx/rx locations routes subjects walking speeds indicating robustness wispeed various scenarios wispeed tends overestimate moving distances device-free settings. route distances baselines ignore displacement subjects direction gravity. since wispeed measures absolute moving distance subject coverage area motion gravity direction would introduce bias distance estimation. summary wispeed achieves mape device-free human walking speed estimation device-based speed estimation outperforms existing approaches even single pair wifi devices severe nlos conditions. dominated radiated transmit antennas wispeed estimate speed moving antennas. estimated moving distance case moves higher speed ground-truth distance fig. summarizes accuracy experiments human walking speed estimation. speciﬁcally fig. shows error distribution setting fig. demonstrates corresponding error distribution route fig. shows error distribution setting fig. demonstrates corresponding error distribution route bottom error bars stand percentiles percentiles estimates respectively length window number samples averaging sample average. shows estimate moving subject speed wispeed requires time window duration seconds. essentially wispeed captures average speed motion period time rather instantaneous moving speed. instance around case speed changes signiﬁcantly within duration performance wispeed would degrade. track speed fast-varying moving subject smaller desirable achieved increasing channel sampling rate increasing carrier frequency reduce wavelength main computational complexity comes estimation overall giving rise total mtfs multiplications number available subcarriers. motions slow-varying speeds walking standing lower channel sampling rate sufﬁces could reduce complexity. example experiments human walking speed estimation human fall detection total number multiplications wispeed produce output around million. leads computational time desktop intel core processor memory short enough real-time applications. falling ground standing chair sitting chair bowing picking items ground walking inside room. experiment lasts collect datasets falling activity subjects datasets four activities subjects. experiments conducted room wifi placed location shown fig. fig. shows snapshot speed acceleration estimation results different activities subjects. realizing duration real-world falling short human body would experience sudden acceleration deceleration propose metrics falling detection maximum change acceleration within denoted maximum speed period maximum change acceleration written vmax. fig. shows distribution activities subjects. obviously setting thresholds vmax wispeed could differentiate falls four activities except outlier leading detection rate zero false alarm requires machine learning techniques. wispeed extracts important physical features activity classiﬁcation namely speed change acceleration infers physical values indirectly. false alarms human fall detection. large coverage robustness cost computational complexity wispeed promising candidate indoor passive human activity monitoring systems. work propose wispeed universal indoor speed estimation system human motions leveraging commercial wifi estimate speed moving object either device-free device-based condition. wispeed built upon statistical theory waves quantiﬁes impact human motions waves indoor environments. conduct extensive experiments typical indoor environment demonstrates wispeed achieve mape device-free human walking speed monitoring mape device-based speed estimation. meanwhile achieves average detection rate gurbuz clemente balleri soraghan micro-doppler-based in-home aided unaided walking recognition multiple radar sonar systems radar sonar navigation vol. c.-y. kabelac hristov katabi extracting gait velocity stride length surrounding radio signals proc. conference human factors computing systems kozlov weinkauf persistenced extracting ﬁltering minima maxima functions http//people.mpiinf.mpg.de/weinkauf/notes/persistenced.html bagal`a becker cappello chiari aminian hausdorff zijlstra klenk evaluation accelerometer-based fall detection algorithms real-world falls plos vol. qian yang jamieson widar decimeter-level passive tracking velocity monitoring commodity wi-ﬁ proc. international symposium mobile networking computing gupta gollakota patel whole-home gesture recognition using wireless signals proc. annual international conference mobile computing networking wang chen gruteser yang e-eyes device-free location-oriented activity identiﬁcation using ﬁne-grained signatures proc. annual international conference mobile computing networking wang shahzad ling understanding modeling wifi signal based human activity recognition proc. annual international conference mobile computing networking koutsonikolas k.-h. widraw enabling hands-free drawing commodity wifi devices proc. annual international conference mobile computing networking seifeldin saeed kosba el-keyi youssef nuzzer large-scale device-free passive localization system wireless environments ieee transactions mobile computing vol. july", "year": "2017"}
{"title": "Magnetless Circulators Based on Spatiotemporal Modulation of Bandstop  Filters in a Delta Topology", "tag": "eess", "abstract": " In this paper, we discuss the design rationale and guidelines to build magnet-less circulators based on spatio-temporal modulation of resonant junctions consisting of first-order bandstop filters connected in a delta topology. Without modulation, the junction does not allow transmission between its ports, however, when the natural oscillation frequencies of the constituent LC filters are modulated in time with a suitable phase pattern, a synthetic angular-momentum bias can be effectively imparted to the junction and a transmission window opens at one of the output ports, thus realizing a circulator. We develop a rigorous small-signal linear model and find analytical expressions for the harmonic S-parameters of the proposed circuit, which significantly facilitate the design process. We validate the theory with simulations and further discuss the large signal response, including power handling and non-linearity, and the noise performance. Finally, we present measured results with unprecedented performance in all metrics for a PCB prototype using a Rogers board and off-the-shelf discrete components. ", "text": "abstract— paper discuss design rationale guidelines build magnet-less circulators based spatio-temporal modulation junctions consisting first-order bandstop filters connected delta topology. without modulation junction allow transmission ports however natural oscillation frequencies constituent filters modulated time suitable phase pattern synthetic angular-momentum bias effectively imparted junction transmission window opens output ports thus realizing circulator. develop rigorous small-signal linear model find analytical expressions harmonic s-parameters proposed circuit significantly facilitate design process. validate theory simulations discuss large signal response including power handling non-linearity noise performance. finally present measured results unprecedented performance metrics prototype using rogers board off-the-shelf discrete components. ireless communications significantly advanced since first generation cellular services launched japan deployed systems date half-duplex employing either frequency time division diplexing bi-directional communication therefore limiting maximum transmission rate allowed available resources. full-duplex system transmitter receiver operate simultaneously frequency manuscript received march work supported qualcomm innovation fellowship force office scientific research defense advanced research projects agency silicon audio simons foundation national science foundation. authors department electrical computer engineering university texas austin austin usa. also chief technology officer silicon audio circulator. which principle doubles capacity wireless channels challenge full-duplexing sufficient isolation nodes avoid self-interference i.e. leakage strong signal path. several works academic industrial groups recently proposed combination radio-frequency baseband digital signal processing techniques achieve goal. cancellation absolute necessity full-duplex systems avoid saturation analog-to-digital converters classified three categories antenna-based circulator-based mixed-signal approaches antenna-based techniques require least antennas sensitive placement thus weakening argument full-duplex compared conventional mimo systems also double throughput using multiple antennas. alternatively mixed signal approaches exploit fact signal already known therefore subtracting node. however transceiver actually knows clean baseband digital signal becomes different goes noisy non-linear chain up-converted carrier frequency. therefore mixed signal approaches carefully designed adding interference node. stringent specification self-interference cancellation full-duplex systems obtained using single antenna combining mixed-signal techniques circulators depicted fig. nevertheless circulators come challenge necessity breaking reciprocity. general achieved using magnetic-biased anisotropic materials active devices non-linearities linear periodically-time-varying circuits decades non-reciprocity almost exclusively achieved magnetic biasing ferrite materials leading bulky devices incompatible conventional integrated circuit technologies. magnets active approaches pursued years suffer fundamentally poor noise figure limited power handling small dynamic range resulting devices cannot deployed commercial systems. also nonlinear band’s center frequency hence reducing power consumption along modulation path. furthermore allows easy filtering modulation leakage ports opportunity cmos implementation less-scaled high-voltage cmos technologies handle high power. first circulator based approach presented connecting three ladder resonators delta topology. however connection non-optimal supports non-zero common mode leads poor matching insertion loss order despite fact isolation still order shown common mode problem overcome series resonators connected topology. problem approach requires large number filters order prohibit modulation signal leaking ports vice versa thus significantly complicating implementation increasing insertion loss. moreover topology resonators connected series port impedance thus limiting loaded q-factor achieved realistic inductors turn circulator’s performance. circuit reported showed measured insertion loss mhz. here present implementation angularmomentum circulators overcomes mentioned problems particular propose connecting parallel tanks delta topology considered dual case topology interestingly circuit allow transmission port without modulation however angular-momentum imparted degenerate poles loop split allowing non-reciprocal transmission superior performance metrics compared best knowledge first time bandstop junction used building block realize circulators based form biasing including magnets. like topology delta topology presented support common mode thus enabling good matching. time requires less filters provides greater control loaded q-factor without requirement using impedance transformers ports thus reducing complexity circuit making suitable exhibits better power-handling since contrast voltage across varactors amplified circuit’s resonance paper show experimentally validate proposed circuit results magnet-less circulators unprecedented performance satisfying nearly metrics practical systems e.g. rfid hence making work important step towards commercialization full-duplex communications near future. paper organized follows. section present circuit develop analytical model linear small-signal response including harmonic s-parameters describe design procedure based theory. elements explored realize magnet-free non-reciprocal devices inherently lead signal distortions operate limited range input intensities. recently lptv circuits based modulated varactors banks switched capacitors presented potential alternative towards non-reciprocity without drawbacks previous approaches. particular presented idea parametrically modulating transmission line loading varactors injecting modulation signal port. line allows signal propagation direction conventional opposite direction mixes injected modulation signal upconverting latter different frequency. approach necessitates length larger wavelength importantly requires counter-propagating signals frequency spectrum thus making suitable integration less attractive compared high performance magnetic-biased circulators. fully integrated cmos magnet-less circulator presented staggered commutation using n-path filters shown equivalent highly miniaturized non-reciprocal phase shifter which embedded loop reciprocal phase shifters lead asymmetric circulator. work asymmetry circuit improved power handling tx/ant path compared ant/rx path also resulted sensitivity impedance mismatches ports thus requiring reconfigurable impedance tuners leading asymmetric s-parameters. furthermore commutator circuit requires modulation frequency equal band’s center frequency leads challenges power consumption modulation path especially mm-wave bands also complicates rejection modulation leakage ports switch parasitics. related approach realization magnet-less circulators follows so-called angular-momentum biasing based loop three resonators modulated time phase difference other synthetic angular-momentum effectively imparted circuit symmetric circulators insensitive random mismatches require small modulation frequency order circuit’s compression point also connected common-cathode configuration improve input-referred modulation applied varactors matching networks also bandstop filters signal thus prohibiting leakage modulation ports. important feature proposed circuit modulation signals virtual ground ports symmetry therefore alleviating necessity using three additional filters compared simplifying modulation network significantly furthermore matching networks modulation-signal path amplify modulation voltage thus relaxing thus relaxing requirements output voltage modulation signal generators finally biasing combined modulation signals sufficiently large resistors total voltage across tank. s-parameters definition calculated small-signal assumption yields following expression effective capacitance seen signal fig. proposed magnet-less circulator complete schematic. linear circuit connected sources real small-signal model port index. impedance simplified model section provide numerical simulations investigate circuit’s large-signal response including maximum power handling non-linearity followed discussion noise figure associated mechanisms. section provide measured results discuss experimental setups fabricated prototype detail. finally draw conclusions outlook next steps exciting line research section fig. shows complete implementation proposed circuit consists three identical parallel tanks connected loop. tanks represent first-order bandstop filters center frequency given tank index total inductance capacitance tank respectively. capacitance realized varactors allow continuous modulation tanks’ resonance frequencies required angular-momentum approach. modulation signals frequency phase difference different tanks. varactors also stacked pairs improve power handling increase effective modulation capacitance modulation voltage frequency constant respectively phase difference different modulation signals. also assume varactors’ inductor’s losses tank combined dispersion-less parallel resistance define total unloaded quality factor assumption acceptable narrow bandwidths case paper. equation embeds bias modulation signal time-variant capacitance therefore tank voltages fig. constructed using linear notice general superposition individual port excitations excitation ports inferred excitation port based circuit’s symmetry. equation trivial solution means common mode excited input power split counter-propagating modes given coupled differential equations equations solved applying fourier transform yielding fig. excitation port resulting tank voltages decomposition fig. using superposition three modes common mode clock-wise mode counter clock-wise mode. matrices depend circuit elements modulation parameters derived appendix equation written even simpler form analogy magnetic circulators express superposition three modes i.e. defined common clockwise counter-clockwise modes respectively. common mode refers in-phase signal component voltages clockwise mode refers signal component whose phase increases clockwise direction similar wave propagating direction. similarly counter-clockwise mode refers propagating wave opposite direction i.e. signal whose phase increases counter-clockwise. example excitation port shown fig. constant amplitude decomposed using superposition predefined modes fig. generally excitation ports expressed matrix transformation conventional s-parameters defined linear time-invariant systems relate input output powers frequency gives transformation input signal intermodulation products next sections s-parameters refer conventional ones unless stated otherwise. also circulator’s threefold rotational symmetry rest s-parameters found rotating indices resulting like s-parameters yields conventional input impedance relates voltages currents frequency. generally corresponds trans-impedance relates input voltage also worth mentioning excited current equation shows voltage frequency depends input voltages different frequencies particular frequencies result modulation. graphical representation frequency mixing mechanism provided fig. input signal monochromatic frequency fig. show voltages three components frequencies shown graphically fig. amplitudes isolation fig. shows s-parameters fractional bandwidth versus normalized modulation frequency normalized modulation amplitude reasonable value design. values selected assuming initial value finding resonance frequency circulator’s bandwidth defined frequency ranges insertion loss less isolation respectively. results fig. choose case find i.e. bandwidth determined minimum isolation specification. fig. allows find modulation parameters s-parameters bandwidth become optimum quantities necessarily become optimum modulation parameters showing need trade several select modulation parameters. paper give priority isolation choose circuit operate point isolation design frequency maximum. various circuit parameters operation point summarized table choices give priority metrics combination them depending design specifications equally valid. example maximizing isolation center frequency important could select point operation point isolation bandwidth maximum. notice point insertion loss minimum. general generated charts provide solution meets given specifications different values reaching desired solution. fig. shows s-parameters using values given table insertion loss return loss isolation center frequency respectively fractional based definition input impedance also shown fig. almost real equal design frequency related fact circuit chosen operate point fig. return loss becomes small. impedance matching improved using simple matching networks ports expense increasing form factor overall resistive loss fig. fig. also show phase response transmission group delay almost flat operational band thus imposing minimal dispersion transmitted signal circulator allowing coherent non-coherent digital modulation scheme practical communication systems. fig. shows circulator’s harmonic response isop respectively transmitted isolated ports i.e. monochromatic input dbm. notice presented circulator rotationally symmetric mentioned earlier hence fig. results apply excitation ports where example input incident port respectively. products normalized unit respect carrier frequency poses interference problem neighboring channels saturate front-end especially high power even fundamental harmonic sufficiently attenuated. shown either simulations analysis section ii.b products reduced using larger modulation frequency expense increasing power consumption modulation path. reduction possible using channel band pre-selection filters though again would restriction minimum modulation frequency hence overall power consumption relax requirements sharpness filters. based theoretical results presented previous section circulator operating designed using off-the-shelf discrete components listed table components chosen based design parameters table layout rogers board simulated using momentum generated s-parameters combined rest circuit components perform post-layout circuit/em co-simulations. following approach take account parasitics either finite length interconnecting transmission lines pads components’ footprints. commercially available measured s-parameters passive elements full non-linear spice model package parasitics varactors also used. s-parameters fig. shows simulated s-parameters without modulation circuit clearly reciprocal transfer function seen input port e.g. port output ports i.e. mentioned before proposed circulator without modulation bandstop filter i.e. resonance frequency transmission allowed towards output ports input power mostly reflected back residual transmission merely finite quality factor constituent tanks. fig. shows indeed without modulation transmission unmodulated center frequency ghz. spatio-temporal modulation applied s-parameters become non-reciprocal excitation port power mostly transmitted ports respectively. also notice center frequency shifted varactors’ second-order non-linearity explained later. achieved insertion loss return loss isolation respectively agreement linear small-signal analytical results section hand fractional decreases parasitics neglected theoretical analysis. simulated phase response group delay also shown fig. fig. presents s-parameters different voltages showing circulator reconfigured operate different frequencies spanning range times larger instantaneous bandwidth simply controlling bias adjusting modulation voltage maintain s-parameters. range extended modulation frequency also controlled e.g. using voltage controlled oscillators generate modulation signals. power handling non-linearities non-linearity circuit predominantly varactors related non-linear characteristics given finite forward-conduction breakdown voltages respectively. order maximize power handling given varactor biasing circulator operates middle channel tunability band approximately equal varactors used paper. clearly bias deviates optimal value e.g. tune circulator operation different channel maximum power varactor handle decreases. requires back-off limit order maintain approximately linearity performance channels. order investigate second factor contributes non-linear characteristics circuit i.e. non-linear curve varactors around quiescent point invoke substitute yields notice simplicity subscript dropped sinusoidal phases assumed zero since irrelevant analysis. term represents effective static capacitance presence large modulation signals taking account varactors’ non-linearities. notice shift capacitance respect static value second order non-linearity. generally even order terms would result similar shift second order predominant. convex curve majority commercial varactors positive therefore resonance frequency shifted down agreement result fig. shift constant independent signal however becomes sufficiently large changes input power words varactor compressed. clearly occurs fixed design frequency e.g. also compress. rest terms correspond harmonic variation varactor’s capacitance different frequencies. example corresponds effective capacitance variation imposed modulation frequency which contrast non-linear function modulation amplitude non-linear characteristics varactors’ curve. term corresponds harmonic capacitance variation frequency effectively corresponding modulation circuit modulation frequency since modulation frequency optimum modulation frequency term negligible effect circuit’s response. similarly parasitic loss varactors. finally circuit also tested in-band input tones shown fig. found dbm. notice difference necessarily expected third-order time-invariant systems time-varying characteristics circuit. noise figure noise performance ant/rx path another critical metric performance circulator since comes forefront receiving path superseding noise amplifier therefore highly desirable circulator adds minimal noise order limit overall signal-to-noise ratio transceiver. following discussion detail different noise mechanisms proposed circuit circulator’s performance. although analysis focuses port results also apply ports symmetry circuit. total noise port decomposed three components incoming noise ports noise added circuit itself noise resulting random variations modulation signals including amplitude phase noise. noise transmitted port circulator’s harmonic s-parameters. notice since circuit time-variant output noise port particular frequency comes noise frequency also folds frequencies shown fig. therefore noise noise given power spectral densities circulator’s therefore tx’s contribution neglected. also mentioned earlier second-order products excited linear small-signal assumption. hence simplifies harmonic s-parameters case given argue circulator penalized input noise folding since desired signal frequencies. channel pre-selection bandpass filter similar image reject filters heterodyne transceivers fig. shows output power transmitted port isolation versus input power assuming input frequency equal design frequency ghz. output power isolation compress certain input power non-linear characteristics varactors explained before. maximum allowable input power level defined maximum input power maintain isolation center frequency. typical values fig. shows achieved maxp dbm. large value exceeds several orders magnitude conventional active approaches achieve either platforms also worth mentioning large compression point partially stacking varactors pairs fig. approach halves voltage varactor thus increasing maximum allowable input power approximately. general stacking varactors improve compression point also complicates modulation network importantly increases insertion loss equation shows realistic scenario modulation signal pure sinusoidal tone frequency random signal finite bandwidth increases folded noise circulator’s instantaneous degrades importantly noise particular indistinguishable desired modulation signals frequency therefore would result random variation harmonic s-parameters magnitude phase hence signal would incur undesired amplitude phase modulation around frequency. clearly would lead fuzzy constellation practical communication system increase error rate communication scheme beyond scope paper. analytical calculation exact total output noise port tedious; however simulation tools harmonic balance significantly simplify task. also since presented circulator passive lptv circuit expect overall noise figure close insertion loss slightly higher noise folding modulation phase noise. fig. shows simulated center frequency higher less circulator’s instantaneous obtaining results assumed modulation sources uncorrelated phase noise characteristics shown fig. order mimic experimental setup used section iii.b. circuit described section schematic table components) fabricated total form factor mm×mm area occupied core part mm×mm. fig. fig. show photograph experimental setup fabricated prototype respectively table provides list used equipment. thus added antenna port order knock out-of-band noise shown fig. unlike mixers however conversion gain seen desired signal image same harmonic transfer functions circulator’s case fact much smaller insertion loss therefore noise folding i.e. frequencies already small compared neglected even without filtering. in-band noise noise added circuit itself attributed thermal noise biasing resistors inductors’ finite quality factors varactors output impedance modulation sources. fig. shows noise sources noise biasing resistors neglected compared input noise ports since also simplicity total noise k-th tank varactors finite quality factor lumped single parallel fully current source correlated shunt current sources opposite currents terminals corresponding tank therefore allowing calculation contribution port using harmonic s-parameters. furthermore incoming noise modulation/dc ports injected common-cathode node corresponding tank voltage source back modulation ports. interpret amplitude variation modulation signal applied effective random varactors capacitance variation similarly phase noise fig. shows block diagram experimental setup used measure s-parameters. modulation signals generated using three phase-locked sources controlled laptop. help oscilloscope sources configured generate three signals amplitude phase difference deg. next ports connected third port terminated load. ideally port would give entire s-matrix measurement port requires performing three different measurements order construct matrix. finally port connected power supply. fig. shows measured s-parameters without modulation three different channels corresponding different bias modulation voltages. modulation parameters case chosen maximum isolation center frequency channel resulting respectively instantaneous also notice non-optimal i.e. minimum circulator’s center frequency. mainly varactors’ package uncertainities resulted self-resonance frequency closer expected thus leading asymmetric resonance unmodulated junction seen fig. worth mentioning even asymmetry circulator threefold rotationally symmetric ports since s-parameters measured different ports thus still preserving insensitivity port mismatches compared fig. shows output spectrum transmitted isolated ports monochromatic input dbm. output power indeed equal expected larger simply isolation null perfectly aligned ghz. also second-order products respectively fair agreement theoretical results. furthermore additional tones exist basically higher-order harmonics modulation signal varactors’ non-linear characteristics. therefore desirable integer number order avoid harmonics falling desired signal. nevertheless interchangeably connected spectrum analyzer load order measure transmission isolation. output powers fundamental frequency measured using spectrum analyzer measurement repeated different values results shown fig. maxp found equal remarkable number magnet-less circulators form factor. power feeding circulator’s input port shown fig. spectrum analyzer used measure output power fundamental component third-order product fig. shows results found dbm. best authors’ knowledge largest reported magnet-less circulators proposed date. noise figure fig. shows block diagram experimental setup used measure circulator’s based factor method. calibrated excess noise ratio source connected circulator’s input port biased signal transmit port connected spectrum analyzer high-pass filter cut-off frequency larger fig. experimental setup measurements. harmonics small e.g. fifth harmonic less therefore neglected compared products. notice harmonics independent signal change input power varied therefore entirely cancelled using simple algorithms. power handling non-linearities measurement monochromatic tone generated signal generator applied port circuit amplifier shown fig. amplifier used order able tune supplied power circuit higher levels maximum output power generator. case restricted output compression point amplifier dbm. ports circuit isolated port terminated ohm. added reject residual leakage modulation signals which despite small still require attenuation noise floor order overload spectrum analyzer’s port measuring notice filtering possible angular-momentum circulator frequencies equal e.g. requires complicated techniques must utilized reject modulation leakage turn degrade circulator’s power handling. fig. shows measured results circulator configured operate center channel fig. case less circulator’s instantaneous values slightly larger predicted simulations mainly measured insertion loss higher. also worth mentioning phase noise contribution reduced using source generating three modulation signals on-board using phase shifters become perfectly correlated hence random phase variations generator’s output signal equally appear three modulation signals. presented concept design principles experimental verification magnet-less circulators based spatio-temporally modulated filters connected delta topology. developed rigorous analytical model extracted optimal modulation parameters circuit order achieve given specifications insertion loss return loss isolation center frequency defined defined *applies **pdb ***iip bandwidth. based model designed prototype measured performance including scattering parameters harmonic response power handling noise figure summarized together theoretical simulated results table comparison previous works. results show proposed circuit promising realization compatible magnet-less circulators small form-factor loss large isolation high power handling required practical full-duplex systems definite advantages compared recently proposed approaches magnet-free circulators. large enough considered open circuit signal. equations used find values optimal operation circulator. finally bias combined modulation signals bias sufficiently large fig. since current resistance flow circuit. furthermore proper biasing varactors ports also grounded bias large resistance. detailed small-signal analysis several metrics including insertion loss unwanted intermodulation products improved using higher-order modulated filters differential architecture subject future investigations. mentioned section ii.b modulation signals virtual ground ports symmetry. prove fact consider case paper. case impedance inductors small enough replaced short circuit. therefore pair common cathode varactors fig. appear parallel effectively replaced single varactor shown fig. similarly internal impedance three ports also appear parallel lumped single resistance resistance modulation voltage applied across varactors enters effective capacitance seen signal generally equal modulation voltages voltage modulation frequency across however symmetry modulation signals three varactors current flowing zero making node virtual ground modulation signals modulation signals across varactors equal virtual ground feature simplifies design modulation network since circuit fig. split three identical independent circuits shown fig. branch. circuit designed amplify voltage varactor compared source voltage thus relaxing requirements modulation signal generators srcv using simple circuit analysis voltage gain bliss parker margetts simultaneous transmission reception improved wireless network performance ieee/sp workshop statistical signal processing ieee pozar microwave engineering. john wiley sons duarte sabharwal full-duplex wireless communications using off-the-shelf radios feasibility first results conference record forty fourth asilomar conference signals systems computers ieee buisman vreede larson spirito akhnoukh scholtes nanver distortion-free varactor diode topologies adaptivity proc. ieee mtt-s int. microw. symp. dig. long beach june goel analui hashemi tunable duplexer passive feed-forward cancellation improve rx-tx isolation ieee trans. circuits systems regular papers vol. zhou integrated wideband self-interference cancellation domain full-duplex wireless ieee journal solid-state circuits vol. wang broadband parametric circulator balanced monolithic integrated distributedly modulated capacitors proc. ieee mtt-s int. microw. symp. dig. francisco estep sounas magnetless microwave circulators based spatiotemporally modulated rings coupled resonators ieee trans. microw. theory techn. vol. zhou reiskarimian krishnaswamy receiver integrated magnetic-free n-path-filter-based non-reciprocal circulator baseband self-interference cancellation full-duplex wireless ieee isscc dig. techn. papers jan.", "year": "2017"}